/*! For license information please see main.ecfd37da33d52f70cec5.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateitsforgotham("main",{"./app/components/Canvas/Gallery/objects/GalleryElement.js":(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var s=i("./node_modules/ogl/src/core/Program.js"),h=i("./node_modules/ogl/src/core/Mesh.js"),a=i("./node_modules/gsap/index.js"),l=i("./app/shaders/gallery/element/vertex.glsl"),n=i("./app/shaders/gallery/element/fragment.glsl");class r{constructor({element:t,index:e,geometry:i,gl:s,length:h,scene:a,screen:l,viewport:n}){this.element=t,this.index=e,this.geo=i,this.gl=s,this.length=h,this.scene=a,this.screen=l,this.viewport=n,this.new_pos=0,this.createMesh(),this.createBounds()}createMesh(){this.texture=window.IMAGE_TEXTURES[this.element.getAttribute("data-src")],this.program=new s.Program(this.gl,{vertex:l.default,fragment:n.default,uniforms:{tMap:{value:this.texture},u_imageSize:{value:[0,0]},u_planeSize:{value:[0,0]},u_alpha:{value:0},u_offset:{value:0},u_scroll:{value:0},u_viewportSize:{value:[this.viewport.width,this.viewport.height]}}}),this.a_r=this.texture.image.naturalHeight/this.texture.image.naturalWidth,this.target_height=300*this.a_r,this.target_width=this.a_r*this.new_height,this.program.uniforms.u_imageSize.value=[this.texture.image.naturalWidth,this.texture.image.naturalHeight],this.plane=new h.Mesh(this.gl,{geometry:this.geo,program:this.program}),this.plane.index=this.index,this.plane.setParent(this.scene)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y],this.gallery_height=this.length*this.bounds.height,this.full_height=this.gallery_height/this.screen.height*this.viewport.height,this.new_pos+=this.full_height,this.pos_x=Math.sin(this.index+Math.PI)*(this.viewport.width/2)}show(){a.default.fromTo(this.program.uniforms.u_alpha,{value:0,duration:1},{value:1,duration:1})}hide(){a.default.to(this.program.uniforms.u_alpha,{value:0,duration:1})}onResize(t){if(this.new_pos=0,t){const{screen:e,viewport:i}=t;e&&(this.screen=e),i&&(this.viewport=i,this.plane.program.uniforms.u_viewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y]}updateX(){this.x=this.bounds.left/this.screen.width,this.plane.position.x=a.default.utils.mapRange(-this.viewport.height,this.viewport.height,-this.pos_x,this.pos_x,this.plane.position.y)}updateY(t=0){this.y=(this.bounds.top-t)/this.screen.height;const e=this.plane.position.y-this.y/100;this.plane.program.uniforms.u_offset.value=a.default.utils.mapRange(-this.viewport.height,this.viewport.height,-.35,.35,e),this.plane.position.y=this.viewport.height/2-this.plane.scale.y/2-this.y*this.viewport.height+this.new_pos}update(t,e,i){if(this.bounds){if(this.updateScale(),this.updateX(),this.updateY(t),this.plane.program.uniforms.u_scroll.value=(t-e)/this.screen.height*15,"up"===i){this.plane.position.y+this.plane.scale.y<-this.viewport.height/2&&(this.new_pos+=this.full_height)}if("down"===i){this.plane.position.y-this.plane.scale.y>this.viewport.height/2&&(this.new_pos-=this.full_height)}}}}}},(function(t){t.h=()=>"00155dbc31f40b9bc23a"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixLQUFLRCxTQUFTd0IsUUFBUyxJQUFNLElBQU1tQyxHQUUzSDFELEtBQUsrQixNQUFNd0IsU0FBU2QsRUFBS3pDLEtBQUtELFNBQVN3QixPQUFTLEVBQU12QixLQUFLK0IsTUFBTVEsTUFBTUUsRUFBSSxFQUFNekMsS0FBS3lDLEVBQUl6QyxLQUFLRCxTQUFTd0IsT0FBVXZCLEtBQUtFLE9BQ3pILENBRUF5RCxPQUFPSCxFQUFTSSxFQUFNQyxHQUVwQixHQUFJN0QsS0FBS2tDLE9BQVQsQ0FRQSxHQU5BbEMsS0FBS29DLGNBQ0xwQyxLQUFLcUMsVUFDTHJDLEtBQUtzQyxRQUFRa0IsR0FFYnhELEtBQUsrQixNQUFNdEIsUUFBUUksU0FBU08sU0FBU0wsT0FBVXlDLEVBQVVJLEdBQVE1RCxLQUFLRixPQUFPeUIsT0FBVSxHQUV0RSxPQUFkc0MsRUFDSCxDQUNZN0QsS0FBSytCLE1BQU13QixTQUFTZCxFQUFJekMsS0FBSytCLE1BQU1RLE1BQU1FLEdBRTNDekMsS0FBS0QsU0FBU3dCLE9BQVMsSUFFN0J2QixLQUFLRSxTQUFXRixLQUFLMkMsWUFFekIsQ0FFQSxHQUFpQixTQUFka0IsRUFDSCxDQUNZN0QsS0FBSytCLE1BQU13QixTQUFTZCxFQUFJekMsS0FBSytCLE1BQU1RLE1BQU1FLEVBRTVDekMsS0FBS0QsU0FBU3dCLE9BQVMsSUFFNUJ2QixLQUFLRSxTQUFXRixLQUFLMkMsWUFFekIsQ0ExQnVCLENBMkJ6QixrQkNqTUZtQixFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0dhbGxlcnkvb2JqZWN0cy9HYWxsZXJ5RWxlbWVudC5qcyIsIndlYnBhY2s6Ly9pdHNmb3Jnb3RoYW0vd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1lc2gsIFByb2dyYW0gfSBmcm9tICdvZ2wnXG5pbXBvcnQgZ3NhcCBmcm9tICdnc2FwJ1xuXG5pbXBvcnQgdmVydGV4IGZyb20gJ3NoYWRlcnMvZ2FsbGVyeS9lbGVtZW50L3ZlcnRleC5nbHNsJ1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJ3NoYWRlcnMvZ2FsbGVyeS9lbGVtZW50L2ZyYWdtZW50Lmdsc2wnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnlFbGVtZW50XG57XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgaW5kZXgsIGdlb21ldHJ5LCBnbCwgbGVuZ3RoLCBzY2VuZSwgc2NyZWVuLCB2aWV3cG9ydCB9KVxuICB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxuICAgIHRoaXMuZ2VvID0gZ2VvbWV0cnlcbiAgICB0aGlzLmdsID0gZ2xcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aFxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxuICAgIHRoaXMuc2NyZWVuID0gc2NyZWVuXG4gICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICB0aGlzLm5ld19wb3MgPSAwXG5cbiAgICB0aGlzLmNyZWF0ZU1lc2goKVxuXG4gICAgdGhpcy5jcmVhdGVCb3VuZHMoKVxuICB9XG5cbiAgLypcbiAgICBDcmVhdGUuXG4gICovXG5cbiAgY3JlYXRlTWVzaCgpXG4gIHtcbiAgICB0aGlzLnRleHR1cmUgPSB3aW5kb3cuSU1BR0VfVEVYVFVSRVNbdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKV1cblxuICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMuZ2wsXG4gICAge1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnQsXG4gICAgICB1bmlmb3JtczpcbiAgICAgIHtcbiAgICAgICAgdE1hcDogeyB2YWx1ZTogdGhpcy50ZXh0dXJlIH0sXG4gICAgICAgIHVfaW1hZ2VTaXplOiB7IHZhbHVlOiBbMCwgMF0gfSxcbiAgICAgICAgdV9wbGFuZVNpemU6IHsgdmFsdWU6IFswLCAwXSB9LFxuICAgICAgICB1X2FscGhhOiB7IHZhbHVlOiAwLjAgfSxcbiAgICAgICAgdV9vZmZzZXQ6IHsgdmFsdWU6IDAgfSxcbiAgICAgICAgdV9zY3JvbGw6IHsgdmFsdWU6IDAgfSxcbiAgICAgICAgdV92aWV3cG9ydFNpemU6IHsgdmFsdWU6IFt0aGlzLnZpZXdwb3J0LndpZHRoLCB0aGlzLnZpZXdwb3J0LmhlaWdodF0gfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmFfciA9IHRoaXMudGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0IC8gdGhpcy50ZXh0dXJlLmltYWdlLm5hdHVyYWxXaWR0aFxuICAgIHRoaXMudGFyZ2V0X2hlaWdodCA9IHRoaXMuYV9yICogMzAwXG4gICAgdGhpcy50YXJnZXRfd2lkdGggPSB0aGlzLmFfciAqIHRoaXMubmV3X2hlaWdodFxuXG4gICAgdGhpcy5wcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2VTaXplLnZhbHVlID0gW3RoaXMudGV4dHVyZS5pbWFnZS5uYXR1cmFsV2lkdGgsIHRoaXMudGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0XVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBNZXNoKHRoaXMuZ2wsIHtcbiAgICAgIGdlb21ldHJ5OiB0aGlzLmdlbyxcbiAgICAgIHByb2dyYW06IHRoaXMucHJvZ3JhbVxuICAgIH0pXG5cbiAgICB0aGlzLnBsYW5lLmluZGV4ID0gdGhpcy5pbmRleFxuXG4gICAgdGhpcy5wbGFuZS5zZXRQYXJlbnQodGhpcy5zY2VuZSlcbiAgfVxuXG4gIGNyZWF0ZUJvdW5kcygpXG4gIHtcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgdGhpcy51cGRhdGVTY2FsZSgpXG4gICAgdGhpcy51cGRhdGVYKClcbiAgICB0aGlzLnVwZGF0ZVkoKVxuXG4gICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfcGxhbmVTaXplLnZhbHVlID0gW3RoaXMucGxhbmUuc2NhbGUueCwgdGhpcy5wbGFuZS5zY2FsZS55XVxuXG4gICAgdGhpcy5nYWxsZXJ5X2hlaWdodCA9IHRoaXMubGVuZ3RoICogdGhpcy5ib3VuZHMuaGVpZ2h0XG4gICAgdGhpcy5mdWxsX2hlaWdodCA9ICgodGhpcy5nYWxsZXJ5X2hlaWdodCAvIHRoaXMuc2NyZWVuLmhlaWdodCkgKiB0aGlzLnZpZXdwb3J0LmhlaWdodClcbiAgICB0aGlzLm5ld19wb3MgKz0gdGhpcy5mdWxsX2hlaWdodFxuXG4gICAgdGhpcy5wb3NfeCA9IE1hdGguc2luKHRoaXMuaW5kZXggKyBNYXRoLlBJKSAqICgodGhpcy52aWV3cG9ydC53aWR0aCAvIDIpKVxuICB9XG5cbiAgLypcbiAgICBBbmltYXRpb25zLlxuICAqL1xuXG4gIHNob3coKVxuICB7XG4gICAgZ3NhcC5mcm9tVG8odGhpcy5wcm9ncmFtLnVuaWZvcm1zLnVfYWxwaGEsXG4gICAge1xuICAgICAgdmFsdWU6IDAuMCxcbiAgICAgIGR1cmF0aW9uOiAxXG4gICAgfSxcbiAgICB7XG4gICAgICB2YWx1ZTogMS4wLFxuICAgICAgZHVyYXRpb246IDFcbiAgICB9KVxuICB9XG5cbiAgaGlkZSgpXG4gIHtcbiAgICBnc2FwLnRvKHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51X2FscGhhLFxuICAgIHtcbiAgICAgIHZhbHVlOiAwLjAsXG4gICAgICBkdXJhdGlvbjogMVxuICAgIH0pXG4gIH1cblxuICAvKlxuICAgIEV2ZW50cy5cbiAgKi9cblxuICBvblJlc2l6ZShzaXplcylcbiAge1xuICAgIHRoaXMubmV3X3BvcyA9IDBcblxuICAgIGlmKHNpemVzKVxuICAgIHtcbiAgICAgIGNvbnN0IHsgc2NyZWVuLCB2aWV3cG9ydCB9ID0gc2l6ZXNcblxuICAgICAgaWYoc2NyZWVuKSB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgICAgaWYodmlld3BvcnQpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICAgICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfdmlld3BvcnRTaXplLnZhbHVlID0gW3RoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0XVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gICAgVXBkYXRlLlxuICAqL1xuXG4gIHVwZGF0ZVNjYWxlKClcbiAge1xuICAgIHRoaXMucGxhbmUuc2NhbGUueCA9IHRoaXMudmlld3BvcnQud2lkdGggKiB0aGlzLmJvdW5kcy53aWR0aCAvIHRoaXMuc2NyZWVuLndpZHRoXG4gICAgdGhpcy5wbGFuZS5zY2FsZS55ID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgKiB0aGlzLmJvdW5kcy5oZWlnaHQgLyB0aGlzLnNjcmVlbi5oZWlnaHRcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3BsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cbiAgfVxuXG4gIHVwZGF0ZVgoKVxuICB7XG4gICAgdGhpcy54ID0gdGhpcy5ib3VuZHMubGVmdCAvIHRoaXMuc2NyZWVuLndpZHRoXG5cbiAgICAvL3RoaXMucGxhbmUucG9zaXRpb24ueCA9ICgtdGhpcy52aWV3cG9ydC53aWR0aCAvIDIpICsgKHRoaXMucGxhbmUuc2NhbGUueCAvIDIpICsgKHRoaXMueCAqIHRoaXMudmlld3BvcnQud2lkdGgpICsgdGhpcy5wb3NfeFxuXG4gICAgdGhpcy5wbGFuZS5wb3NpdGlvbi54ID0gZ3NhcC51dGlscy5tYXBSYW5nZSgtdGhpcy52aWV3cG9ydC5oZWlnaHQsIHRoaXMudmlld3BvcnQuaGVpZ2h0LCAtdGhpcy5wb3NfeCwgdGhpcy5wb3NfeCwgdGhpcy5wbGFuZS5wb3NpdGlvbi55KVxuXG4gIH1cblxuICB1cGRhdGVZKGN1cnJlbnQ9MClcbiAge1xuICAgIHRoaXMueSA9ICh0aGlzLmJvdW5kcy50b3AgLSBjdXJyZW50KSAvIHRoaXMuc2NyZWVuLmhlaWdodFxuICAgIGNvbnN0IHBvc192aWV3cG9ydCA9IHRoaXMucGxhbmUucG9zaXRpb24ueSAtIHRoaXMueSAvIDEwMFxuXG4gICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfb2Zmc2V0LnZhbHVlID0gZ3NhcC51dGlscy5tYXBSYW5nZSgtdGhpcy52aWV3cG9ydC5oZWlnaHQsIHRoaXMudmlld3BvcnQuaGVpZ2h0LCAtMC4zNSwgMC4zNSwgcG9zX3ZpZXdwb3J0KVxuXG4gICAgdGhpcy5wbGFuZS5wb3NpdGlvbi55ID0gKHRoaXMudmlld3BvcnQuaGVpZ2h0IC8gMikgLSAodGhpcy5wbGFuZS5zY2FsZS55IC8gMikgLSAodGhpcy55ICogdGhpcy52aWV3cG9ydC5oZWlnaHQpICsgdGhpcy5uZXdfcG9zXG4gIH1cblxuICB1cGRhdGUoY3VycmVudCwgbGFzdCwgZGlyZWN0aW9uKVxuICB7XG4gICAgaWYoIXRoaXMuYm91bmRzKSByZXR1cm5cblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKGN1cnJlbnQpXG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9zY3JvbGwudmFsdWUgPSAoKGN1cnJlbnQgLSBsYXN0KSAvIHRoaXMuc2NyZWVuLmhlaWdodCkgKiAxNVxuXG4gICAgaWYoZGlyZWN0aW9uID09PSAndXAnKVxuICAgIHtcbiAgICAgIGNvbnN0IHkgPSB0aGlzLnBsYW5lLnBvc2l0aW9uLnkgKyB0aGlzLnBsYW5lLnNjYWxlLnlcblxuICAgICAgaWYoeSA8IC10aGlzLnZpZXdwb3J0LmhlaWdodCAvIDIpXG4gICAgICB7XG4gICAgICAgIHRoaXMubmV3X3BvcyArPSB0aGlzLmZ1bGxfaGVpZ2h0XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoZGlyZWN0aW9uID09PSAnZG93bicpXG4gICAge1xuICAgICAgY29uc3QgeSA9IHRoaXMucGxhbmUucG9zaXRpb24ueSAtIHRoaXMucGxhbmUuc2NhbGUueVxuXG4gICAgICBpZih5ID4gdGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKVxuICAgICAge1xuICAgICAgICB0aGlzLm5ld19wb3MgLT0gdGhpcy5mdWxsX2hlaWdodFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiMDAxNTVkYmMzMWY0MGI5YmMyM2FcIikiXSwibmFtZXMiOlsiR2FsbGVyeUVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJpbmRleCIsImdlb21ldHJ5IiwiZ2wiLCJsZW5ndGgiLCJzY2VuZSIsInNjcmVlbiIsInZpZXdwb3J0IiwidGhpcyIsImdlbyIsIm5ld19wb3MiLCJjcmVhdGVNZXNoIiwiY3JlYXRlQm91bmRzIiwidGV4dHVyZSIsIndpbmRvdyIsIklNQUdFX1RFWFRVUkVTIiwiZ2V0QXR0cmlidXRlIiwicHJvZ3JhbSIsIlByb2dyYW0iLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsInVuaWZvcm1zIiwidE1hcCIsInZhbHVlIiwidV9pbWFnZVNpemUiLCJ1X3BsYW5lU2l6ZSIsInVfYWxwaGEiLCJ1X29mZnNldCIsInVfc2Nyb2xsIiwidV92aWV3cG9ydFNpemUiLCJ3aWR0aCIsImhlaWdodCIsImFfciIsImltYWdlIiwibmF0dXJhbEhlaWdodCIsIm5hdHVyYWxXaWR0aCIsInRhcmdldF9oZWlnaHQiLCJ0YXJnZXRfd2lkdGgiLCJuZXdfaGVpZ2h0IiwicGxhbmUiLCJNZXNoIiwic2V0UGFyZW50IiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidXBkYXRlU2NhbGUiLCJ1cGRhdGVYIiwidXBkYXRlWSIsInNjYWxlIiwieCIsInkiLCJnYWxsZXJ5X2hlaWdodCIsImZ1bGxfaGVpZ2h0IiwicG9zX3giLCJNYXRoIiwic2luIiwiUEkiLCJzaG93IiwiZ3NhcCIsImR1cmF0aW9uIiwiaGlkZSIsIm9uUmVzaXplIiwic2l6ZXMiLCJsZWZ0IiwicG9zaXRpb24iLCJjdXJyZW50IiwidG9wIiwicG9zX3ZpZXdwb3J0IiwidXBkYXRlIiwibGFzdCIsImRpcmVjdGlvbiIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==
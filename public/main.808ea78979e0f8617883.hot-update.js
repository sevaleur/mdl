/*! For license information please see main.808ea78979e0f8617883.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateitsforgotham("main",{"./app/components/Canvas/Home/menu/MenuElement.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s("./node_modules/ogl/src/core/Texture.js"),h=s("./node_modules/ogl/src/core/Program.js"),a=s("./node_modules/ogl/src/core/Mesh.js"),o=s("./node_modules/gsap/index.js"),n=s("./app/shaders/home/element/vertex.glsl"),r=s("./app/shaders/home/element/fragment.glsl");class l{constructor({element:e,index:t,text:s,geometry:i,gl:h,length:a,scene:o,screen:n,viewport:r}){this.element=e,this.index=t,this.text=s,this.geo=i,this.gl=h,this.length=a,this.scene=o,this.screen=n,this.viewport=r,this.new_pos=0,this.createMesh(),this.createBounds()}createMesh(){const e=new Image,t=new i.Texture(this.gl,{generateMipmaps:!1});this.program=new h.Program(this.gl,{vertex:n.default,fragment:r.default,uniforms:{tMap:{value:t},u_imageSize:{value:[0,0]},u_planeSize:{value:[0,0]},u_alpha:{value:0},u_offset:{value:0},u_scroll:{value:0},u_progress:{value:0},u_viewportSize:{value:[this.viewport.width,this.viewport.height]}}}),e.crossOrigin="anonymous",e.src=this.element.getAttribute("data-src"),e.onload=()=>{this.program.uniforms.u_imageSize.value=[e.naturalWidth,e.naturalHeight],t.image=e},this.plane=new a.Mesh(this.gl,{geometry:this.geo,program:this.program}),this.plane.setParent(this.scene)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.wrap=document.querySelector(".home__gallery__wrapper"),this.wrap_bounds=this.wrap.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y],this.full_width=this.wrap_bounds.width/this.screen.width*this.viewport.width}show(){o.default.fromTo(this.program.uniforms.u_alpha,{value:0,duration:1},{value:1,duration:1,delay:3})}hide(){o.default.to(this.program.uniforms.u_alpha,{value:0,duration:1})}onResize(e){if(this.new_pos=0,e){const{screen:t,viewport:s}=e;t&&(this.screen=t),s&&(this.viewport=s,this.plane.program.uniforms.u_viewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width/2,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y]}updateX(e=0){this.x=(this.bounds.left-e)/this.screen.width;const t=this.plane.position.x-this.x/100;this.plane.program.uniforms.u_offset.value=o.default.utils.mapRange(-4,4,-.35,.35,t),this.plane.position.x=this.viewport.width/2-this.plane.scale.x/2-this.x*this.viewport.width+this.new_pos}updateY(){this.y=this.bounds.top/this.screen.height,this.plane.position.y=this.viewport.height/2-this.plane.scale.y/2-this.y*this.viewport.height,this.plane.position.y+=.5*Math.cos(this.plane.position.x/this.viewport.width*Math.PI)-.5}update(e,t){if(this.bounds){if(this.updateScale(),this.updateX(e.current),this.updateY(),this.plane.program.uniforms.u_scroll.value=(e.current-e.last)/this.screen.width*30,"up"===t){this.plane.position.x+this.plane.scale.x<-this.viewport.width/2&&(this.new_pos+=this.full_width)}if("down"===t){this.plane.position.x-this.plane.scale.x>this.viewport.width/2&&(this.new_pos-=this.full_width)}}}}}},(function(e){e.h=()=>"bbb82bb18eb138775cae"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUMsS0FBS0QsU0FBUzBCLE9BQ3hHekIsS0FBS2dDLE1BQU0wQixTQUFTWixHQUF5RSxHQUFwRWMsS0FBS0MsSUFBSzdELEtBQUtnQyxNQUFNMEIsU0FBU2IsRUFBSTdDLEtBQUtELFNBQVN5QixNQUFTb0MsS0FBS0UsSUFBWSxFQUNyRyxDQUVBQyxPQUFPQyxFQUFRQyxHQUViLEdBQUlqRSxLQUFLbUMsT0FBVCxDQVFBLEdBTkFuQyxLQUFLeUMsY0FDTHpDLEtBQUswQyxRQUFRc0IsRUFBT1QsU0FDcEJ2RCxLQUFLMkMsVUFFTDNDLEtBQUtnQyxNQUFNdEIsUUFBUUksU0FBU08sU0FBU0wsT0FBVWdELEVBQU9ULFFBQVVTLEVBQU9FLE1BQVFsRSxLQUFLRixPQUFPMEIsTUFBUyxHQUVuRixPQUFkeUMsRUFDSCxDQUNZakUsS0FBS2dDLE1BQU0wQixTQUFTYixFQUFJN0MsS0FBS2dDLE1BQU1ZLE1BQU1DLEdBRTNDN0MsS0FBS0QsU0FBU3lCLE1BQVEsSUFFNUJ4QixLQUFLRSxTQUFXRixLQUFLK0MsV0FFekIsQ0FFQSxHQUFpQixTQUFka0IsRUFDSCxDQUNZakUsS0FBS2dDLE1BQU0wQixTQUFTYixFQUFJN0MsS0FBS2dDLE1BQU1ZLE1BQU1DLEVBRTVDN0MsS0FBS0QsU0FBU3lCLE1BQVEsSUFFM0J4QixLQUFLRSxTQUFXRixLQUFLK0MsV0FFekIsQ0ExQnVCLENBMkJ6QixrQkNyTUZvQixFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0hvbWUvbWVudS9NZW51RWxlbWVudC5qcyIsIndlYnBhY2s6Ly9pdHNmb3Jnb3RoYW0vd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1lc2gsIFByb2dyYW0sIFRleHR1cmUgfSBmcm9tICdvZ2wnXG5pbXBvcnQgZ3NhcCBmcm9tICdnc2FwJ1xuXG5pbXBvcnQgdmVydGV4IGZyb20gJ3NoYWRlcnMvaG9tZS9lbGVtZW50L3ZlcnRleC5nbHNsJ1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJ3NoYWRlcnMvaG9tZS9lbGVtZW50L2ZyYWdtZW50Lmdsc2wnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVFbGVtZW50XG57XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgaW5kZXgsIHRleHQsIGdlb21ldHJ5LCBnbCwgbGVuZ3RoLCBzY2VuZSwgc2NyZWVuLCB2aWV3cG9ydCB9KVxuICB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxuICAgIHRoaXMudGV4dCA9IHRleHRcbiAgICB0aGlzLmdlbyA9IGdlb21ldHJ5XG4gICAgdGhpcy5nbCA9IGdsXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGlzLnNjZW5lID0gc2NlbmVcbiAgICB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuXG4gICAgdGhpcy5uZXdfcG9zID0gMFxuXG4gICAgdGhpcy5jcmVhdGVNZXNoKClcbiAgICB0aGlzLmNyZWF0ZUJvdW5kcygpXG4gIH1cblxuICAvKlxuICAgIENyZWF0ZS5cbiAgKi9cblxuICBjcmVhdGVNZXNoKClcbiAge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKClcbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5nbCwge1xuICAgICAgZ2VuZXJhdGVNaXBtYXBzOiBmYWxzZVxuICAgIH0pXG5cbiAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzLmdsLFxuICAgIHtcbiAgICAgIHZlcnRleCxcbiAgICAgIGZyYWdtZW50LFxuICAgICAgdW5pZm9ybXM6XG4gICAgICB7XG4gICAgICAgIHRNYXA6IHsgdmFsdWU6IHRleHR1cmUgfSxcbiAgICAgICAgdV9pbWFnZVNpemU6IHsgdmFsdWU6IFswLCAwXSB9LFxuICAgICAgICB1X3BsYW5lU2l6ZTogeyB2YWx1ZTogWzAsIDBdIH0sXG4gICAgICAgIHVfYWxwaGE6IHsgdmFsdWU6IDAuMCB9LFxuICAgICAgICB1X29mZnNldDogeyB2YWx1ZTogMCB9LFxuICAgICAgICB1X3Njcm9sbDogeyB2YWx1ZTogMCB9LFxuICAgICAgICB1X3Byb2dyZXNzOiB7IHZhbHVlOiAwLjAgfSxcbiAgICAgICAgdV92aWV3cG9ydFNpemU6IHsgdmFsdWU6IFt0aGlzLnZpZXdwb3J0LndpZHRoLCB0aGlzLnZpZXdwb3J0LmhlaWdodF0gfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnXG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKVxuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+XG4gICAge1xuICAgICAgdGhpcy5wcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2VTaXplLnZhbHVlID0gW2ltYWdlLm5hdHVyYWxXaWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodF1cbiAgICAgIHRleHR1cmUuaW1hZ2UgPSBpbWFnZVxuICAgIH1cblxuICAgIHRoaXMucGxhbmUgPSBuZXcgTWVzaCh0aGlzLmdsLCB7XG4gICAgICBnZW9tZXRyeTogdGhpcy5nZW8sXG4gICAgICBwcm9ncmFtOiB0aGlzLnByb2dyYW1cbiAgICB9KVxuXG4gICAgdGhpcy5wbGFuZS5zZXRQYXJlbnQodGhpcy5zY2VuZSlcbiAgfVxuXG4gIGNyZWF0ZUJvdW5kcygpXG4gIHtcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgdGhpcy53cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX2dhbGxlcnlfX3dyYXBwZXInKVxuICAgIHRoaXMud3JhcF9ib3VuZHMgPSB0aGlzLndyYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKClcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3BsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cblxuICAgIHRoaXMuZnVsbF93aWR0aCA9ICgodGhpcy53cmFwX2JvdW5kcy53aWR0aCAvIHRoaXMuc2NyZWVuLndpZHRoKSAqIHRoaXMudmlld3BvcnQud2lkdGgpXG4gIH1cblxuICAvKlxuICAgIEFuaW1hdGlvbnMuXG4gICovXG5cbiAgc2hvdygpXG4gIHtcbiAgICBnc2FwLmZyb21UbyhcbiAgICAgIHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51X2FscGhhLFxuICAgIHtcbiAgICAgIHZhbHVlOiAwLjAsXG4gICAgICBkdXJhdGlvbjogMVxuICAgIH0sXG4gICAge1xuICAgICAgdmFsdWU6IDEuMCxcbiAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgZGVsYXk6IDMuXG4gICAgfSlcbiAgfVxuXG4gIGhpZGUoKVxuICB7XG4gICAgZ3NhcC50byhcbiAgICAgIHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51X2FscGhhLFxuICAgIHtcbiAgICAgIHZhbHVlOiAwLjAsXG4gICAgICBkdXJhdGlvbjogMVxuICAgIH0pXG4gIH1cblxuICAvKlxuICAgIEV2ZW50cy5cbiAgKi9cblxuICBvblJlc2l6ZShzaXplcylcbiAge1xuICAgIHRoaXMubmV3X3BvcyA9IDBcblxuICAgIGlmKHNpemVzKVxuICAgIHtcbiAgICAgIGNvbnN0IHsgc2NyZWVuLCB2aWV3cG9ydCB9ID0gc2l6ZXNcblxuICAgICAgaWYoc2NyZWVuKSB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgICAgaWYodmlld3BvcnQpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICAgICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfdmlld3BvcnRTaXplLnZhbHVlID0gW3RoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0XVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gICAgVXBkYXRlLlxuICAqL1xuXG4gIHVwZGF0ZVNjYWxlKClcbiAge1xuICAgIHRoaXMucGxhbmUuc2NhbGUueCA9ICh0aGlzLnZpZXdwb3J0LndpZHRoICogdGhpcy5ib3VuZHMud2lkdGggLyB0aGlzLnNjcmVlbi53aWR0aCkgLyAyXG4gICAgdGhpcy5wbGFuZS5zY2FsZS55ID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgKiB0aGlzLmJvdW5kcy5oZWlnaHQgLyB0aGlzLnNjcmVlbi5oZWlnaHRcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3BsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cbiAgfVxuXG4gIHVwZGF0ZVgoY3VycmVudD0wKVxuICB7XG4gICAgdGhpcy54ID0gKHRoaXMuYm91bmRzLmxlZnQgLSBjdXJyZW50KSAvIHRoaXMuc2NyZWVuLndpZHRoXG4gICAgY29uc3QgcG9zX3ZpZXdwb3J0ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi54IC0gdGhpcy54IC8gMTAwXG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9vZmZzZXQudmFsdWUgPSBnc2FwLnV0aWxzLm1hcFJhbmdlKC00LCA0LCAtLjM1LCAuMzUsIHBvc192aWV3cG9ydClcblxuICAgIHRoaXMucGxhbmUucG9zaXRpb24ueCA9ICh0aGlzLnZpZXdwb3J0LndpZHRoIC8gMikgLSAodGhpcy5wbGFuZS5zY2FsZS54IC8gMikgLSAodGhpcy54ICogdGhpcy52aWV3cG9ydC53aWR0aCkgKyB0aGlzLm5ld19wb3NcbiAgfVxuXG4gIHVwZGF0ZVkoKVxuICB7XG4gICAgdGhpcy55ID0gdGhpcy5ib3VuZHMudG9wIC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG5cbiAgICB0aGlzLnBsYW5lLnBvc2l0aW9uLnkgPSAodGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKSAtICh0aGlzLnBsYW5lLnNjYWxlLnkgLyAyKSAtICh0aGlzLnkgKiB0aGlzLnZpZXdwb3J0LmhlaWdodClcbiAgICB0aGlzLnBsYW5lLnBvc2l0aW9uLnkgKz0gTWF0aC5jb3MoKHRoaXMucGxhbmUucG9zaXRpb24ueCAvIHRoaXMudmlld3BvcnQud2lkdGgpICogTWF0aC5QSSkgKiAwLjUgLSAwLjU7XG4gIH1cblxuICB1cGRhdGUoc2Nyb2xsLCBkaXJlY3Rpb24pXG4gIHtcbiAgICBpZighdGhpcy5ib3VuZHMpIHJldHVyblxuXG4gICAgdGhpcy51cGRhdGVTY2FsZSgpXG4gICAgdGhpcy51cGRhdGVYKHNjcm9sbC5jdXJyZW50KVxuICAgIHRoaXMudXBkYXRlWSgpXG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9zY3JvbGwudmFsdWUgPSAoKHNjcm9sbC5jdXJyZW50IC0gc2Nyb2xsLmxhc3QpIC8gdGhpcy5zY3JlZW4ud2lkdGgpICogMzBcblxuICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3VwJylcbiAgICB7XG4gICAgICBjb25zdCB4ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi54ICsgdGhpcy5wbGFuZS5zY2FsZS54XG5cbiAgICAgIGlmKHggPCAtdGhpcy52aWV3cG9ydC53aWR0aCAvIDIpXG4gICAgICB7XG4gICAgICAgIHRoaXMubmV3X3BvcyArPSB0aGlzLmZ1bGxfd2lkdGhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihkaXJlY3Rpb24gPT09ICdkb3duJylcbiAgICB7XG4gICAgICBjb25zdCB4ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi54IC0gdGhpcy5wbGFuZS5zY2FsZS54XG5cbiAgICAgIGlmKHggPiB0aGlzLnZpZXdwb3J0LndpZHRoIC8gMilcbiAgICAgIHtcbiAgICAgICAgdGhpcy5uZXdfcG9zIC09IHRoaXMuZnVsbF93aWR0aFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiYmJiODJiYjE4ZWIxMzg3NzVjYWVcIikiXSwibmFtZXMiOlsiTWVudUVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJpbmRleCIsInRleHQiLCJnZW9tZXRyeSIsImdsIiwibGVuZ3RoIiwic2NlbmUiLCJzY3JlZW4iLCJ2aWV3cG9ydCIsInRoaXMiLCJnZW8iLCJuZXdfcG9zIiwiY3JlYXRlTWVzaCIsImNyZWF0ZUJvdW5kcyIsImltYWdlIiwiSW1hZ2UiLCJ0ZXh0dXJlIiwiVGV4dHVyZSIsImdlbmVyYXRlTWlwbWFwcyIsInByb2dyYW0iLCJQcm9ncmFtIiwidmVydGV4IiwiZnJhZ21lbnQiLCJ1bmlmb3JtcyIsInRNYXAiLCJ2YWx1ZSIsInVfaW1hZ2VTaXplIiwidV9wbGFuZVNpemUiLCJ1X2FscGhhIiwidV9vZmZzZXQiLCJ1X3Njcm9sbCIsInVfcHJvZ3Jlc3MiLCJ1X3ZpZXdwb3J0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiY3Jvc3NPcmlnaW4iLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJvbmxvYWQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwicGxhbmUiLCJNZXNoIiwic2V0UGFyZW50IiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid3JhcCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndyYXBfYm91bmRzIiwidXBkYXRlU2NhbGUiLCJ1cGRhdGVYIiwidXBkYXRlWSIsInNjYWxlIiwieCIsInkiLCJmdWxsX3dpZHRoIiwic2hvdyIsImdzYXAiLCJkdXJhdGlvbiIsImRlbGF5IiwiaGlkZSIsIm9uUmVzaXplIiwic2l6ZXMiLCJjdXJyZW50IiwibGVmdCIsInBvc192aWV3cG9ydCIsInBvc2l0aW9uIiwidG9wIiwiTWF0aCIsImNvcyIsIlBJIiwidXBkYXRlIiwic2Nyb2xsIiwiZGlyZWN0aW9uIiwibGFzdCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==
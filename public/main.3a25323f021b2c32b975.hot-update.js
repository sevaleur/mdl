/*! For license information please see main.3a25323f021b2c32b975.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateitsforgotham("main",{"./app/components/Canvas/Home/menu/MenuElement.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var s=i("./node_modules/ogl/src/core/Texture.js"),h=i("./node_modules/ogl/src/core/Program.js"),a=i("./node_modules/ogl/src/core/Mesh.js"),n=i("./node_modules/gsap/index.js"),o=i("./app/shaders/home/vertex.glsl");Object(function(){var e=new Error("Cannot find module 'shaders/home/fragment.glsl'");throw e.code="MODULE_NOT_FOUND",e}());class r{constructor({element:e,index:t,text:i,geometry:s,gl:h,length:a,scene:n,screen:o,viewport:r}){this.element=e,this.index=t,this.text=i,this.geo=s,this.gl=h,this.length=a,this.scene=n,this.screen=o,this.viewport=r,this.new_pos=0,this.createMesh(),this.createBounds()}createMesh(){const e=new Image,t=new s.Texture(this.gl,{generateMipmaps:!1});this.program=new h.Program(this.gl,{vertex:o.default,fragment:Object(function(){var e=new Error("Cannot find module 'shaders/home/fragment.glsl'");throw e.code="MODULE_NOT_FOUND",e}()),uniforms:{tMap:{value:t},u_imageSize:{value:[0,0]},u_planeSize:{value:[0,0]},u_alpha:{value:0},u_offset:{value:0},u_strength:{value:0},u_viewportSize:{value:[this.viewport.width,this.viewport.height]}}}),e.crossOrigin="anonymous",e.src=this.element.getAttribute("data-src"),e.onload=()=>{this.program.uniforms.u_imageSize.value=[e.naturalWidth,e.naturalHeight],t.image=e},this.plane=new a.Mesh(this.gl,{geometry:this.geo,program:this.program}),this.plane.setParent(this.scene)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.wrap=document.querySelector(".home__gallery__wrapper"),this.wrap_bounds=this.wrap.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y],this.full_width=this.wrap_bounds.width/this.screen.width*this.viewport.width}show(){n.default.fromTo(this.program.uniforms.u_alpha,{value:0,duration:1},{value:1,duration:1})}hide(){n.default.to(this.program.uniforms.u_alpha,{value:0,duration:1})}onResize(e){if(this.new_pos=0,e){const{screen:t,viewport:i}=e;t&&(this.screen=t),i&&(this.viewport=i,this.plane.program.uniforms.u_viewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y];const e=n.default.utils.mapRange(0,this.viewport.width/2,0,-.3,Math.abs(this.plane.position.x));this.plane.scale.x+=e,this.plane.scale.y+=e}updateX(e=0){this.x=(this.bounds.left-e)/this.screen.width;const t=this.plane.position.x-this.x/100;this.plane.program.uniforms.u_offset.value=n.default.utils.mapRange(-4,4,-.35,.35,t),this.plane.position.x=this.viewport.width/2-this.plane.scale.x/2-this.x*this.viewport.width+this.new_pos}updateY(){this.y=this.bounds.top/this.screen.height,this.plane.position.y=this.viewport.height/2-this.plane.scale.y/2-this.y*this.viewport.height,this.plane.position.y+=1.25*Math.cos(this.plane.position.x/this.viewport.width*Math.PI)-1.25}update(e,t){if(this.bounds){if(this.updateScale(),this.updateX(e.current),this.updateY(),this.plane.program.uniforms.u_strength.value=(e.current-e.last)/this.screen.width*30,"up"===t){this.plane.position.x+this.plane.scale.x<-this.viewport.width/2&&(this.new_pos+=this.full_width)}if("down"===t){this.plane.position.x-this.plane.scale.x>this.viewport.width/2&&(this.new_pos-=this.full_width)}}}}}},(function(e){e.h=()=>"0363e71c8433c9b97fd2"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFJN0MsS0FBS2tDLE9BQU95QixJQUFNM0QsS0FBS0YsT0FBTzBCLE9BRXZDeEIsS0FBSytCLE1BQU13QixTQUFTVixFQUFLN0MsS0FBS0QsU0FBU3lCLE9BQVMsRUFBTXhCLEtBQUsrQixNQUFNWSxNQUFNRSxFQUFJLEVBQU03QyxLQUFLNkMsRUFBSTdDLEtBQUtELFNBQVN5QixPQUN4R3hCLEtBQUsrQixNQUFNd0IsU0FBU1YsR0FBeUUsS0FBcEVRLEtBQUtPLElBQUs1RCxLQUFLK0IsTUFBTXdCLFNBQVNYLEVBQUk1QyxLQUFLRCxTQUFTd0IsTUFBUzhCLEtBQUtRLElBQWEsSUFDdEcsQ0FFQUMsT0FBT0MsRUFBUUMsR0FFYixHQUFJaEUsS0FBS2tDLE9BQVQsQ0FRQSxHQU5BbEMsS0FBS3dDLGNBQ0x4QyxLQUFLeUMsUUFBUXNCLEVBQU9QLFNBQ3BCeEQsS0FBSzBDLFVBRUwxQyxLQUFLK0IsTUFBTXJCLFFBQVFJLFNBQVNPLFdBQVdMLE9BQVUrQyxFQUFPUCxRQUFVTyxFQUFPRSxNQUFRakUsS0FBS0YsT0FBT3lCLE1BQVMsR0FFckYsT0FBZHlDLEVBQ0gsQ0FDWWhFLEtBQUsrQixNQUFNd0IsU0FBU1gsRUFBSTVDLEtBQUsrQixNQUFNWSxNQUFNQyxHQUUzQzVDLEtBQUtELFNBQVN3QixNQUFRLElBRTVCdkIsS0FBS0UsU0FBV0YsS0FBSzhDLFdBRXpCLENBRUEsR0FBaUIsU0FBZGtCLEVBQ0gsQ0FDWWhFLEtBQUsrQixNQUFNd0IsU0FBU1gsRUFBSTVDLEtBQUsrQixNQUFNWSxNQUFNQyxFQUU1QzVDLEtBQUtELFNBQVN3QixNQUFRLElBRTNCdkIsS0FBS0UsU0FBV0YsS0FBSzhDLFdBRXpCLENBMUJ1QixDQTJCekIsa0JDek1Gb0IsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2l0c2ZvcmdvdGhhbS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Ib21lL21lbnUvTWVudUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXNoLCBQcm9ncmFtLCBUZXh0dXJlIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCdcblxuaW1wb3J0IHZlcnRleCBmcm9tICdzaGFkZXJzL2hvbWUvdmVydGV4Lmdsc2wnXG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnc2hhZGVycy9ob21lL2ZyYWdtZW50Lmdsc2wnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVFbGVtZW50XG57XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgaW5kZXgsIHRleHQsIGdlb21ldHJ5LCBnbCwgbGVuZ3RoLCBzY2VuZSwgc2NyZWVuLCB2aWV3cG9ydCB9KVxuICB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxuICAgIHRoaXMudGV4dCA9IHRleHRcbiAgICB0aGlzLmdlbyA9IGdlb21ldHJ5XG4gICAgdGhpcy5nbCA9IGdsXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGlzLnNjZW5lID0gc2NlbmVcbiAgICB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuXG4gICAgdGhpcy5uZXdfcG9zID0gMFxuXG4gICAgdGhpcy5jcmVhdGVNZXNoKClcblxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gICAgQ3JlYXRlLlxuICAqL1xuXG4gIGNyZWF0ZU1lc2goKVxuICB7XG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKVxuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmdsLCB7XG4gICAgICBnZW5lcmF0ZU1pcG1hcHM6IGZhbHNlXG4gICAgfSlcblxuICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMuZ2wsXG4gICAge1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnQsXG4gICAgICB1bmlmb3JtczpcbiAgICAgIHtcbiAgICAgICAgdE1hcDogeyB2YWx1ZTogdGV4dHVyZSB9LFxuICAgICAgICB1X2ltYWdlU2l6ZTogeyB2YWx1ZTogWzAsIDBdIH0sXG4gICAgICAgIHVfcGxhbmVTaXplOiB7IHZhbHVlOiBbMCwgMF0gfSxcbiAgICAgICAgdV9hbHBoYTogeyB2YWx1ZTogMC4wIH0sXG4gICAgICAgIHVfb2Zmc2V0OiB7IHZhbHVlOiAwIH0sXG4gICAgICAgIHVfc3RyZW5ndGg6IHsgdmFsdWU6IDAgfSxcbiAgICAgICAgdV92aWV3cG9ydFNpemU6IHsgdmFsdWU6IFt0aGlzLnZpZXdwb3J0LndpZHRoLCB0aGlzLnZpZXdwb3J0LmhlaWdodF0gfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnXG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKVxuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+XG4gICAge1xuICAgICAgdGhpcy5wcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2VTaXplLnZhbHVlID0gW2ltYWdlLm5hdHVyYWxXaWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodF1cbiAgICAgIHRleHR1cmUuaW1hZ2UgPSBpbWFnZVxuICAgIH1cblxuICAgIHRoaXMucGxhbmUgPSBuZXcgTWVzaCh0aGlzLmdsLCB7XG4gICAgICBnZW9tZXRyeTogdGhpcy5nZW8sXG4gICAgICBwcm9ncmFtOiB0aGlzLnByb2dyYW1cbiAgICB9KVxuXG4gICAgdGhpcy5wbGFuZS5zZXRQYXJlbnQodGhpcy5zY2VuZSlcbiAgfVxuXG4gIGNyZWF0ZUJvdW5kcygpXG4gIHtcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgdGhpcy53cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX2dhbGxlcnlfX3dyYXBwZXInKVxuICAgIHRoaXMud3JhcF9ib3VuZHMgPSB0aGlzLndyYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKClcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3BsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cblxuICAgIHRoaXMuZnVsbF93aWR0aCA9ICgodGhpcy53cmFwX2JvdW5kcy53aWR0aCAvIHRoaXMuc2NyZWVuLndpZHRoKSAqIHRoaXMudmlld3BvcnQud2lkdGgpXG4gIH1cblxuICAvKlxuICAgIEFuaW1hdGlvbnMuXG4gICovXG5cbiAgc2hvdygpXG4gIHtcbiAgICBnc2FwLmZyb21Ubyh0aGlzLnByb2dyYW0udW5pZm9ybXMudV9hbHBoYSxcbiAgICB7XG4gICAgICB2YWx1ZTogMC4wLFxuICAgICAgZHVyYXRpb246IDFcbiAgICB9LFxuICAgIHtcbiAgICAgIHZhbHVlOiAxLjAsXG4gICAgICBkdXJhdGlvbjogMVxuICAgIH0pXG4gIH1cblxuICBoaWRlKClcbiAge1xuICAgIGdzYXAudG8odGhpcy5wcm9ncmFtLnVuaWZvcm1zLnVfYWxwaGEsXG4gICAge1xuICAgICAgdmFsdWU6IDAuMCxcbiAgICAgIGR1cmF0aW9uOiAxXG4gICAgfSlcbiAgfVxuXG4gIC8qXG4gICAgRXZlbnRzLlxuICAqL1xuXG4gIG9uUmVzaXplKHNpemVzKVxuICB7XG4gICAgdGhpcy5uZXdfcG9zID0gMFxuXG4gICAgaWYoc2l6ZXMpXG4gICAge1xuICAgICAgY29uc3QgeyBzY3JlZW4sIHZpZXdwb3J0IH0gPSBzaXplc1xuXG4gICAgICBpZihzY3JlZW4pIHRoaXMuc2NyZWVuID0gc2NyZWVuXG4gICAgICBpZih2aWV3cG9ydCkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnRcblxuICAgICAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV92aWV3cG9ydFNpemUudmFsdWUgPSBbdGhpcy52aWV3cG9ydC53aWR0aCwgdGhpcy52aWV3cG9ydC5oZWlnaHRdXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVCb3VuZHMoKVxuICB9XG5cbiAgLypcbiAgICBVcGRhdGUuXG4gICovXG5cbiAgdXBkYXRlU2NhbGUoKVxuICB7XG4gICAgdGhpcy5wbGFuZS5zY2FsZS54ID0gdGhpcy52aWV3cG9ydC53aWR0aCAqIHRoaXMuYm91bmRzLndpZHRoIC8gdGhpcy5zY3JlZW4ud2lkdGhcbiAgICB0aGlzLnBsYW5lLnNjYWxlLnkgPSB0aGlzLnZpZXdwb3J0LmhlaWdodCAqIHRoaXMuYm91bmRzLmhlaWdodCAvIHRoaXMuc2NyZWVuLmhlaWdodFxuXG4gICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfcGxhbmVTaXplLnZhbHVlID0gW3RoaXMucGxhbmUuc2NhbGUueCwgdGhpcy5wbGFuZS5zY2FsZS55XVxuXG4gICAgLy8vLy8vLy8vLy8vIGFuIGlkZWEgZm9yIGdhbGxlcnkgc2VsZWN0aW9uIC8vLy8vLy8vLy8vL1xuXG4gICBjb25zdCBzY2FsZSA9IGdzYXAudXRpbHMubWFwUmFuZ2UoMCwgdGhpcy52aWV3cG9ydC53aWR0aCAvIDIsIDAsIC0uMywgTWF0aC5hYnModGhpcy5wbGFuZS5wb3NpdGlvbi54KSlcblxuICAgIHRoaXMucGxhbmUuc2NhbGUueCArPSBzY2FsZVxuICAgIHRoaXMucGxhbmUuc2NhbGUueSArPSBzY2FsZVxuICB9XG5cbiAgdXBkYXRlWChjdXJyZW50PTApXG4gIHtcbiAgICB0aGlzLnggPSAodGhpcy5ib3VuZHMubGVmdCAtIGN1cnJlbnQpIC8gdGhpcy5zY3JlZW4ud2lkdGhcbiAgICBjb25zdCBwb3Nfdmlld3BvcnQgPSB0aGlzLnBsYW5lLnBvc2l0aW9uLnggLSB0aGlzLnggLyAxMDBcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X29mZnNldC52YWx1ZSA9IGdzYXAudXRpbHMubWFwUmFuZ2UoLTQsIDQsIC0uMzUsIC4zNSwgcG9zX3ZpZXdwb3J0KVxuXG4gICAgdGhpcy5wbGFuZS5wb3NpdGlvbi54ID0gKHRoaXMudmlld3BvcnQud2lkdGggLyAyKSAtICh0aGlzLnBsYW5lLnNjYWxlLnggLyAyKSAtICh0aGlzLnggKiB0aGlzLnZpZXdwb3J0LndpZHRoKSArIHRoaXMubmV3X3Bvc1xuICB9XG5cbiAgdXBkYXRlWSgpXG4gIHtcbiAgICB0aGlzLnkgPSB0aGlzLmJvdW5kcy50b3AgLyB0aGlzLnNjcmVlbi5oZWlnaHRcblxuICAgIHRoaXMucGxhbmUucG9zaXRpb24ueSA9ICh0aGlzLnZpZXdwb3J0LmhlaWdodCAvIDIpIC0gKHRoaXMucGxhbmUuc2NhbGUueSAvIDIpIC0gKHRoaXMueSAqIHRoaXMudmlld3BvcnQuaGVpZ2h0KVxuICAgIHRoaXMucGxhbmUucG9zaXRpb24ueSArPSBNYXRoLmNvcygodGhpcy5wbGFuZS5wb3NpdGlvbi54IC8gdGhpcy52aWV3cG9ydC53aWR0aCkgKiBNYXRoLlBJKSAqIDEuMjUgLSAxLjI1O1xuICB9XG5cbiAgdXBkYXRlKHNjcm9sbCwgZGlyZWN0aW9uKVxuICB7XG4gICAgaWYoIXRoaXMuYm91bmRzKSByZXR1cm5cblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWChzY3JvbGwuY3VycmVudClcbiAgICB0aGlzLnVwZGF0ZVkoKVxuXG4gICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfc3RyZW5ndGgudmFsdWUgPSAoKHNjcm9sbC5jdXJyZW50IC0gc2Nyb2xsLmxhc3QpIC8gdGhpcy5zY3JlZW4ud2lkdGgpICogMzBcblxuICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3VwJylcbiAgICB7XG4gICAgICBjb25zdCB4ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi54ICsgdGhpcy5wbGFuZS5zY2FsZS54XG5cbiAgICAgIGlmKHggPCAtdGhpcy52aWV3cG9ydC53aWR0aCAvIDIpXG4gICAgICB7XG4gICAgICAgIHRoaXMubmV3X3BvcyArPSB0aGlzLmZ1bGxfd2lkdGhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihkaXJlY3Rpb24gPT09ICdkb3duJylcbiAgICB7XG4gICAgICBjb25zdCB4ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi54IC0gdGhpcy5wbGFuZS5zY2FsZS54XG5cbiAgICAgIGlmKHggPiB0aGlzLnZpZXdwb3J0LndpZHRoIC8gMilcbiAgICAgIHtcbiAgICAgICAgdGhpcy5uZXdfcG9zIC09IHRoaXMuZnVsbF93aWR0aFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiMDM2M2U3MWM4NDMzYzliOTdmZDJcIikiXSwibmFtZXMiOlsiTWVudUVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJpbmRleCIsInRleHQiLCJnZW9tZXRyeSIsImdsIiwibGVuZ3RoIiwic2NlbmUiLCJzY3JlZW4iLCJ2aWV3cG9ydCIsInRoaXMiLCJnZW8iLCJuZXdfcG9zIiwiY3JlYXRlTWVzaCIsImNyZWF0ZUJvdW5kcyIsImltYWdlIiwiSW1hZ2UiLCJ0ZXh0dXJlIiwiVGV4dHVyZSIsImdlbmVyYXRlTWlwbWFwcyIsInByb2dyYW0iLCJQcm9ncmFtIiwidmVydGV4IiwiZnJhZ21lbnQiLCJ1bmlmb3JtcyIsInRNYXAiLCJ2YWx1ZSIsInVfaW1hZ2VTaXplIiwidV9wbGFuZVNpemUiLCJ1X2FscGhhIiwidV9vZmZzZXQiLCJ1X3N0cmVuZ3RoIiwidV92aWV3cG9ydFNpemUiLCJ3aWR0aCIsImhlaWdodCIsImNyb3NzT3JpZ2luIiwic3JjIiwiZ2V0QXR0cmlidXRlIiwib25sb2FkIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsInBsYW5lIiwiTWVzaCIsInNldFBhcmVudCIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndyYXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3cmFwX2JvdW5kcyIsInVwZGF0ZVNjYWxlIiwidXBkYXRlWCIsInVwZGF0ZVkiLCJzY2FsZSIsIngiLCJ5IiwiZnVsbF93aWR0aCIsInNob3ciLCJnc2FwIiwiZHVyYXRpb24iLCJoaWRlIiwib25SZXNpemUiLCJzaXplcyIsIk1hdGgiLCJhYnMiLCJwb3NpdGlvbiIsImN1cnJlbnQiLCJsZWZ0IiwicG9zX3ZpZXdwb3J0IiwidG9wIiwiY29zIiwiUEkiLCJ1cGRhdGUiLCJzY3JvbGwiLCJkaXJlY3Rpb24iLCJsYXN0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9
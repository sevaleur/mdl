/*! For license information please see main.933bba73f78ac4c5a01b.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateitsforgotham("main",{"./app/components/Canvas/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var h=s("./node_modules/ogl/src/core/Renderer.js"),i=s("./node_modules/ogl/src/core/Camera.js"),a=s("./node_modules/ogl/src/core/Transform.js"),r=s("./app/components/Canvas/Home/index.js"),o=s("./app/components/Canvas/Gallery/index.js"),n=s("./app/components/Canvas/About/index.js"),c=s("./app/components/Canvas/utils/Raycast.js");class l{constructor({template:e}){this.template=e,this.drag={y:{start:0,distance:0,end:0},x:{start:0,distance:0,end:0}},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.onChange(this.template)}createRenderer(){this.renderer=new h.Renderer({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new i.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new a.Transform}createHome(){this.home=new r.default({gl:this.gl,scene:this.scene,screen:this.screen,viewport:this.viewport,camera:this.camera}),this.ray=new c.default({gl:this.gl,camera:this.camera,screen:this.screen,objects:this.home.menu_elements})}createGallery(){this.gallery=new o.default({gl:this.gl,scene:this.scene,screen:this.screen,viewport:this.viewport,renderer:this.renderer,camera:this.camera}),this.ray=new c.default({gl:this.gl,camera:this.camera,screen:this.screen,objects:this.gallery.gallery_elements})}createAbout(){this.about=new n.default({gl:this.gl,scene:this.scene,screen:this.screen,viewport:this.viewport})}destroyHome(){this.home&&(this.home.destroy(),this.home=null,this.ray=null)}destroyGallery(){this.gallery&&(this.gallery.destroy(),this.gallery=null,this.ray=null)}destroyAbout(){this.about&&(this.about.destroy(),this.about=null)}onChangeStart(){this.home&&this.home.hide(),this.about&&this.about.hide(),this.gallery&&this.gallery.hide()}onChange(e){"home"===e?this.createHome():this.destroyHome(),"about"===e?this.createAbout():this.destroyAbout(),"gallery"===e?this.createGallery():this.destroyGallery()}onResize(){this.screen={width:window.innerWidth,height:window.innerHeight},this.renderer.setSize(this.screen.width,this.screen.height),this.camera.perspective({aspect:this.screen.width/this.screen.height});const e=this.camera.fov*(Math.PI/180),t=2*Math.tan(e/2)*this.camera.position.z,s=t*this.camera.aspect;this.viewport={width:s,height:t},this.home&&this.home.onResize({screen:this.screen,viewport:this.viewport}),this.gallery&&this.gallery.onResize({screen:this.screen,viewport:this.viewport}),this.about&&this.about.onResize({screen:this.screen,viewport:this.viewport})}onTouchDown(e){this.isDown=!0,this.drag.x.start=e.touches?e.touches[0].clientX:e.clientX,this.drag.y.start=e.touches?e.touches[0].clientY:e.clientY,this.home&&this.home.onTouchDown({y:this.drag.y,x:this.drag.x}),this.gallery&&this.gallery.onTouchDown({y:this.y}),this.about&&this.about.onTouchDown({y:this.y})}onTouchMove(e){if(!this.isDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;this.drag.y.end=s,this.drag.x.end=t,this.home&&this.home.onTouchMove({y:this.drag.y,x:this.drag.x}),this.gallery&&this.gallery.onTouchMove({y:this.drag.y}),this.about&&this.about.onTouchMove({y:this.drag.y})}onTouchUp(e){this.isDown=!1,this.home&&this.home.onTouchUp({y:this.drag.y,x:this.drag.x}),this.gallery&&this.gallery.onTouchUp({y:this.y}),this.about&&this.about.onTouchUp({y:this.y})}onWheel(e){this.home&&this.home.onWheel(e),this.gallery&&this.gallery.onWheel(e),this.about&&this.about.onWheel(e)}update(e){this.home&&this.home.update(),this.gallery&&this.gallery.update(),this.about&&this.about.update(e),this.renderer.render({scene:this.scene,camera:this.camera})}}}},(function(e){e.h=()=>"d93eb7dbb3595aacce0c"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUt5QyxNQUFNNEIsUUFBUVAsRUFDdkIsQ0FNQVEsT0FBT0MsR0FFRnZFLEtBQUs0QixNQUNONUIsS0FBSzRCLEtBQUswQyxTQUVUdEUsS0FBS3FDLFNBQ05yQyxLQUFLcUMsUUFBUWlDLFNBRVp0RSxLQUFLeUMsT0FDTnpDLEtBQUt5QyxNQUFNNkIsT0FBT0MsR0FFcEJ2RSxLQUFLWSxTQUFTNEQsT0FBTyxDQUNuQi9DLE1BQU96QixLQUFLeUIsTUFDWkosT0FBUXJCLEtBQUtxQixRQUVqQixrQkM1VUZvRCxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL2luZGV4LmpzIiwid2VicGFjazovL2l0c2ZvcmdvdGhhbS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FtZXJhLCBSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJ1xuXG5pbXBvcnQgSG9tZSBmcm9tICcuL0hvbWUnXG5pbXBvcnQgR2FsbGVyeSBmcm9tICcuL0dhbGxlcnknXG5pbXBvcnQgQWJvdXQgZnJvbSAnLi9BYm91dCdcblxuaW1wb3J0IFJheSBmcm9tICcuL3V0aWxzL1JheWNhc3QnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1xue1xuICBjb25zdHJ1Y3Rvcih7IHRlbXBsYXRlIH0pXG4gIHtcblxuICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZVxuXG4gICAgdGhpcy5kcmFnID0ge1xuICAgICAgeToge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfSxcbiAgICAgIHg6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZVJlbmRlcmVyKClcbiAgICB0aGlzLmNyZWF0ZUNhbWVyYSgpXG4gICAgdGhpcy5jcmVhdGVTY2VuZSgpXG5cbiAgICB0aGlzLm9uUmVzaXplKClcbiAgICB0aGlzLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpXG4gIH1cblxuICAvKlxuICAgIENyZWF0ZS5cbiAgKi9cblxuICBjcmVhdGVSZW5kZXJlcigpXG4gIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHtcbiAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsXG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZ2wuY2FudmFzKVxuICB9XG5cbiAgY3JlYXRlQ2FtZXJhKClcbiAge1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLmdsKVxuXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDVcbiAgfVxuXG4gIGNyZWF0ZVNjZW5lKClcbiAge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVHJhbnNmb3JtKClcbiAgfVxuXG4gIGNyZWF0ZUhvbWUoKVxuICB7XG4gICAgdGhpcy5ob21lID0gbmV3IEhvbWUoe1xuICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIHNjcmVlbjogdGhpcy5zY3JlZW4sXG4gICAgICB2aWV3cG9ydDogdGhpcy52aWV3cG9ydCxcbiAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmFcbiAgICB9KVxuXG4gICAgdGhpcy5yYXkgPSBuZXcgUmF5KHtcbiAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYSxcbiAgICAgIHNjcmVlbjogdGhpcy5zY3JlZW4sXG4gICAgICBvYmplY3RzOiB0aGlzLmhvbWUubWVudV9lbGVtZW50c1xuICAgIH0pXG4gIH1cblxuICBjcmVhdGVHYWxsZXJ5KClcbiAge1xuICAgIHRoaXMuZ2FsbGVyeSA9IG5ldyBHYWxsZXJ5KHtcbiAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICBzY3JlZW46IHRoaXMuc2NyZWVuLFxuICAgICAgdmlld3BvcnQ6IHRoaXMudmlld3BvcnQsXG4gICAgICByZW5kZXJlcjogdGhpcy5yZW5kZXJlcixcbiAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmFcbiAgICB9KVxuXG4gICAgdGhpcy5yYXkgPSBuZXcgUmF5KHtcbiAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYSxcbiAgICAgIHNjcmVlbjogdGhpcy5zY3JlZW4sXG4gICAgICBvYmplY3RzOiB0aGlzLmdhbGxlcnkuZ2FsbGVyeV9lbGVtZW50c1xuICAgIH0pXG4gIH1cblxuICBjcmVhdGVBYm91dCgpXG4gIHtcbiAgICB0aGlzLmFib3V0ID0gbmV3IEFib3V0KHtcbiAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICBzY3JlZW46IHRoaXMuc2NyZWVuLFxuICAgICAgdmlld3BvcnQ6IHRoaXMudmlld3BvcnRcbiAgICB9KVxuICB9XG5cbiAgLypcbiAgICBEZXN0cm95LlxuICAqL1xuXG4gIGRlc3Ryb3lIb21lKClcbiAge1xuICAgIGlmKCF0aGlzLmhvbWUpIHJldHVyblxuXG4gICAgdGhpcy5ob21lLmRlc3Ryb3koKVxuICAgIHRoaXMuaG9tZSA9IG51bGxcbiAgICB0aGlzLnJheSA9IG51bGxcbiAgfVxuXG4gIGRlc3Ryb3lHYWxsZXJ5KClcbiAge1xuICAgIGlmKCF0aGlzLmdhbGxlcnkpIHJldHVyblxuXG4gICAgdGhpcy5nYWxsZXJ5LmRlc3Ryb3koKVxuICAgIHRoaXMuZ2FsbGVyeSA9IG51bGxcbiAgICB0aGlzLnJheSA9IG51bGxcbiAgfVxuXG4gIGRlc3Ryb3lBYm91dCgpXG4gIHtcbiAgICBpZighdGhpcy5hYm91dCkgcmV0dXJuXG5cbiAgICB0aGlzLmFib3V0LmRlc3Ryb3koKVxuICAgIHRoaXMuYWJvdXQgPSBudWxsXG4gIH1cblxuICAvKlxuICAgIEV2ZW50cy5cbiAgKi9cblxuICBvbkNoYW5nZVN0YXJ0KClcbiAge1xuICAgIGlmKHRoaXMuaG9tZSlcbiAgICAgIHRoaXMuaG9tZS5oaWRlKClcblxuICAgIGlmKHRoaXMuYWJvdXQpXG4gICAgICB0aGlzLmFib3V0LmhpZGUoKVxuXG4gICAgaWYodGhpcy5nYWxsZXJ5KVxuICAgICAgdGhpcy5nYWxsZXJ5LmhpZGUoKVxuICB9XG5cbiAgb25DaGFuZ2UodGVtcGxhdGUpXG4gIHtcbiAgICB0ZW1wbGF0ZSA9PT0gJ2hvbWUnID8gdGhpcy5jcmVhdGVIb21lKCkgOiB0aGlzLmRlc3Ryb3lIb21lKClcbiAgICB0ZW1wbGF0ZSA9PT0gJ2Fib3V0JyA/IHRoaXMuY3JlYXRlQWJvdXQoKSA6IHRoaXMuZGVzdHJveUFib3V0KClcbiAgICB0ZW1wbGF0ZSA9PT0gJ2dhbGxlcnknID8gdGhpcy5jcmVhdGVHYWxsZXJ5KCkgOiB0aGlzLmRlc3Ryb3lHYWxsZXJ5KClcbiAgfVxuXG4gIG9uUmVzaXplKClcbiAge1xuICAgIHRoaXMuc2NyZWVuID0ge1xuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMuc2NyZWVuLndpZHRoLCB0aGlzLnNjcmVlbi5oZWlnaHQpXG5cbiAgICB0aGlzLmNhbWVyYS5wZXJzcGVjdGl2ZSh7XG4gICAgICBhc3BlY3Q6IHRoaXMuc2NyZWVuLndpZHRoIC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG4gICAgfSlcblxuICAgIGNvbnN0IGZvdiA9IHRoaXMuY2FtZXJhLmZvdiAqIChNYXRoLlBJIC8gMTgwKVxuICAgIGNvbnN0IGhlaWdodCA9IDIgKiBNYXRoLnRhbihmb3YgLyAyKSAqIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnpcbiAgICBjb25zdCB3aWR0aCA9IGhlaWdodCAqIHRoaXMuY2FtZXJhLmFzcGVjdFxuXG4gICAgdGhpcy52aWV3cG9ydCA9IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfVxuXG4gICAgaWYodGhpcy5ob21lKVxuICAgIHtcbiAgICAgIHRoaXMuaG9tZS5vblJlc2l6ZSh7XG4gICAgICAgIHNjcmVlbjogdGhpcy5zY3JlZW4sXG4gICAgICAgIHZpZXdwb3J0OiB0aGlzLnZpZXdwb3J0XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKHRoaXMuZ2FsbGVyeSlcbiAgICB7XG4gICAgICB0aGlzLmdhbGxlcnkub25SZXNpemUoe1xuICAgICAgICBzY3JlZW46IHRoaXMuc2NyZWVuLFxuICAgICAgICB2aWV3cG9ydDogdGhpcy52aWV3cG9ydFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZih0aGlzLmFib3V0KVxuICAgIHtcbiAgICAgIHRoaXMuYWJvdXQub25SZXNpemUoe1xuICAgICAgICBzY3JlZW46IHRoaXMuc2NyZWVuLFxuICAgICAgICB2aWV3cG9ydDogdGhpcy52aWV3cG9ydFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihlKVxuICB7XG4gICAgdGhpcy5pc0Rvd24gPSB0cnVlXG5cbiAgICB0aGlzLmRyYWcueC5zdGFydCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXS5jbGllbnRYIDogZS5jbGllbnRYXG4gICAgdGhpcy5kcmFnLnkuc3RhcnQgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0uY2xpZW50WSA6IGUuY2xpZW50WVxuXG4gICAgaWYodGhpcy5ob21lKVxuICAgIHtcbiAgICAgIHRoaXMuaG9tZS5vblRvdWNoRG93bih7XG4gICAgICAgIHk6IHRoaXMuZHJhZy55LFxuICAgICAgICB4OiB0aGlzLmRyYWcueFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZih0aGlzLmdhbGxlcnkpXG4gICAge1xuICAgICAgdGhpcy5nYWxsZXJ5Lm9uVG91Y2hEb3duKHtcbiAgICAgICAgeTogdGhpcy55XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKHRoaXMuYWJvdXQpXG4gICAge1xuICAgICAgdGhpcy5hYm91dC5vblRvdWNoRG93bih7XG4gICAgICAgIHk6IHRoaXMueVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvblRvdWNoTW92ZShlKVxuICB7XG4gICAgaWYoIXRoaXMuaXNEb3duKSByZXR1cm5cblxuICAgIGNvbnN0IHggPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0uY2xpZW50WCA6IGUuY2xpZW50WFxuICAgIGNvbnN0IHkgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0uY2xpZW50WSA6IGUuY2xpZW50WVxuXG4gICAgdGhpcy5kcmFnLnkuZW5kID0geVxuICAgIHRoaXMuZHJhZy54LmVuZCA9IHhcblxuICAgIGlmKHRoaXMuaG9tZSlcbiAgICB7XG4gICAgICB0aGlzLmhvbWUub25Ub3VjaE1vdmUoe1xuICAgICAgICB5OiB0aGlzLmRyYWcueSxcbiAgICAgICAgeDogdGhpcy5kcmFnLnhcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5nYWxsZXJ5KVxuICAgIHtcbiAgICAgIHRoaXMuZ2FsbGVyeS5vblRvdWNoTW92ZSh7XG4gICAgICAgIHk6IHRoaXMuZHJhZy55XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKHRoaXMuYWJvdXQpXG4gICAge1xuICAgICAgdGhpcy5hYm91dC5vblRvdWNoTW92ZSh7XG4gICAgICAgIHk6IHRoaXMuZHJhZy55XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hVcChlKVxuICB7XG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxuXG4gICAgaWYodGhpcy5ob21lKVxuICAgIHtcbiAgICAgIHRoaXMuaG9tZS5vblRvdWNoVXAoe1xuICAgICAgICB5OiB0aGlzLmRyYWcueSxcbiAgICAgICAgeDogdGhpcy5kcmFnLnhcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5nYWxsZXJ5KVxuICAgIHtcbiAgICAgIHRoaXMuZ2FsbGVyeS5vblRvdWNoVXAoe1xuICAgICAgICB5OiB0aGlzLnlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5hYm91dClcbiAgICB7XG4gICAgICB0aGlzLmFib3V0Lm9uVG91Y2hVcCh7XG4gICAgICAgIHk6IHRoaXMueVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvbldoZWVsKGUpXG4gIHtcbiAgICBpZih0aGlzLmhvbWUpXG4gICAgICB0aGlzLmhvbWUub25XaGVlbChlKVxuXG4gICAgaWYodGhpcy5nYWxsZXJ5KVxuICAgICAgdGhpcy5nYWxsZXJ5Lm9uV2hlZWwoZSlcblxuICAgIGlmKHRoaXMuYWJvdXQpXG4gICAgICB0aGlzLmFib3V0Lm9uV2hlZWwoZSlcbiAgfVxuXG4gIC8qXG4gICAgTG9vcC5cbiAgKi9cblxuICB1cGRhdGUoc2Nyb2xsKVxuICB7XG4gICAgaWYodGhpcy5ob21lKVxuICAgICAgdGhpcy5ob21lLnVwZGF0ZSgpXG5cbiAgICBpZih0aGlzLmdhbGxlcnkpXG4gICAgICB0aGlzLmdhbGxlcnkudXBkYXRlKClcblxuICAgIGlmKHRoaXMuYWJvdXQpXG4gICAgICB0aGlzLmFib3V0LnVwZGF0ZShzY3JvbGwpXG5cbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih7XG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmFcbiAgICB9KVxuICB9XG59XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJkOTNlYjdkYmIzNTk1YWFjY2UwY1wiKSJdLCJuYW1lcyI6WyJDYW52YXMiLCJjb25zdHJ1Y3RvciIsInRlbXBsYXRlIiwidGhpcyIsImRyYWciLCJ5Iiwic3RhcnQiLCJkaXN0YW5jZSIsImVuZCIsIngiLCJjcmVhdGVSZW5kZXJlciIsImNyZWF0ZUNhbWVyYSIsImNyZWF0ZVNjZW5lIiwib25SZXNpemUiLCJvbkNoYW5nZSIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJhbHBoYSIsImFudGlhbGlhcyIsImdsIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJwb3NpdGlvbiIsInoiLCJzY2VuZSIsIlRyYW5zZm9ybSIsImNyZWF0ZUhvbWUiLCJob21lIiwiSG9tZSIsInNjcmVlbiIsInZpZXdwb3J0IiwicmF5IiwiUmF5Iiwib2JqZWN0cyIsIm1lbnVfZWxlbWVudHMiLCJjcmVhdGVHYWxsZXJ5IiwiZ2FsbGVyeSIsIkdhbGxlcnkiLCJnYWxsZXJ5X2VsZW1lbnRzIiwiY3JlYXRlQWJvdXQiLCJhYm91dCIsIkFib3V0IiwiZGVzdHJveUhvbWUiLCJkZXN0cm95IiwiZGVzdHJveUdhbGxlcnkiLCJkZXN0cm95QWJvdXQiLCJvbkNoYW5nZVN0YXJ0IiwiaGlkZSIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0Iiwic2V0U2l6ZSIsInBlcnNwZWN0aXZlIiwiYXNwZWN0IiwiZm92IiwiTWF0aCIsIlBJIiwidGFuIiwib25Ub3VjaERvd24iLCJlIiwiaXNEb3duIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwidXBkYXRlIiwic2Nyb2xsIiwicmVuZGVyIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9
/*! For license information please see main.0efba5051347a271c909.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateitsforgotham("main",{"./app/components/Canvas/Project/Media.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var s=i("./node_modules/ogl/src/core/Texture.js"),h=i("./node_modules/ogl/src/core/Program.js"),a=i("./node_modules/ogl/src/core/Mesh.js"),n=i("./node_modules/gsap/index.js"),o=i("./app/shaders/plane-vertex.glsl"),r=i("./app/shaders/plane-fragment.glsl");class l{constructor({element:e,index:t,geometry:i,gl:s,length:h,scene:a,screen:n,viewport:o}){this.element=e,this.index=t,this.geo=i,this.gl=s,this.length=h,this.scene=a,this.screen=n,this.viewport=o,this.extra=0,this.createMesh(),this.createBounds()}createMesh(){const e=new Image,t=new s.Texture(this.gl,{generateMipmaps:!1}),i=new h.Program(this.gl,{vertex:o.default,fragment:r.default,uniforms:{tMap:{value:t},u_imageSize:{value:[0,0]},u_planeSize:{value:[0,0]},u_offset:{value:0},u_strength:{value:0},u_viewportSize:{value:[this.viewport.width,this.viewport.height]}}});e.crossOrigin="anonymous",e.src=this.element.getAttribute("data-src"),e.onload=s=>{i.uniforms.u_imageSize.value=[e.naturalWidth,e.naturalHeight],t.image=e},this.plane=new a.Mesh(this.gl,{geometry:this.geo,program:i}),this.plane.setParent(this.scene),this.scale={x:this.plane.scale.x/2,y:this.plane.scale.y/2},this.margin=.537,this.wholeheight=this.length*(this.plane.scale.y+this.margin)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y]}onResize(e){if(this.extra=0,e){const{index:t,height:i,screen:s,viewport:h}=e;t&&(this.index=t),i&&(this.height=i),s&&(this.screen=s),h&&(this.viewport=h,this.plane.program.uniforms.u_viewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y]}updateX(){this.x=this.bounds.left/this.screen.width,this.plane.position.x=-this.viewport.width/2+this.scale.x+this.x*this.viewport.width}updateY(e=0){this.y=(this.bounds.top-e)/this.screen.height;const t=this.plane.position.y-this.y/100;this.plane.program.uniforms.u_offset.value=n.default.utils.mapRange(-4,4,-.35,.35,t),this.plane.position.y=this.viewport.height/2-this.scale.y-this.y*this.viewport.height-this.margin-this.extra}update(e,t,i){if(this.bounds)if(this.updateScale(),this.updateX(),this.updateY(e),e>0){if(this.plane.program.uniforms.u_strength.value=(e-t)/this.screen.height*15,"up"===i){this.plane.position.y+this.scale.y<-this.viewport.height/2&&(this.extra-=this.wholeheight)}if("down"===i){this.plane.position.y-this.scale.y>this.viewport.height/2&&(this.extra+=this.wholeheight)}}else{if(this.plane.program.uniforms.u_strength.value=-(e+t)/this.screen.height*15,"up"===i){this.plane.position.y-this.scale.y>this.viewport.height/2&&(this.extra+=this.wholeheight)}if("down"===i){this.plane.position.y+this.scale.y<-this.viewport.height/2&&(this.extra-=this.wholeheight)}}}}}},(function(e){e.h=()=>"1a37b7331abdc8d7b836"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS0YsT0FBT3lCLE9BQVUsR0FFeEUsT0FBZCtCLEVBQ0gsQ0FDWXRELEtBQUsrQixNQUFNZ0IsU0FBU1gsRUFBSXBDLEtBQUtrQyxNQUFNRSxHQUVyQ3BDLEtBQUtELFNBQVN3QixPQUFTLElBRTdCdkIsS0FBS0UsT0FBU0YsS0FBS3NDLFlBRXZCLENBRUEsR0FBaUIsU0FBZGdCLEVBQ0gsQ0FDWXRELEtBQUsrQixNQUFNZ0IsU0FBU1gsRUFBSXBDLEtBQUtrQyxNQUFNRSxFQUV0Q3BDLEtBQUtELFNBQVN3QixPQUFTLElBRTVCdkIsS0FBS0UsT0FBU0YsS0FBS3NDLFlBRXZCLENBQ0YsS0FFQSxDQUdFLEdBRkF0QyxLQUFLK0IsTUFBTXJCLFFBQVFJLFNBQVNNLFdBQVdKLFFBQVdnQyxFQUFVSyxHQUFRckQsS0FBS0YsT0FBT3lCLE9BQVUsR0FFekUsT0FBZCtCLEVBQ0gsQ0FDWXRELEtBQUsrQixNQUFNZ0IsU0FBU1gsRUFBSXBDLEtBQUtrQyxNQUFNRSxFQUV0Q3BDLEtBQUtELFNBQVN3QixPQUFTLElBRTVCdkIsS0FBS0UsT0FBU0YsS0FBS3NDLFlBRXZCLENBRUEsR0FBaUIsU0FBZGdCLEVBQ0gsQ0FDWXRELEtBQUsrQixNQUFNZ0IsU0FBU1gsRUFBSXBDLEtBQUtrQyxNQUFNRSxHQUVyQ3BDLEtBQUtELFNBQVN3QixPQUFTLElBRTdCdkIsS0FBS0UsT0FBU0YsS0FBS3NDLFlBRXZCLENBQ0YsQ0FDRixrQkNwTUZpQixFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL1Byb2plY3QvTWVkaWEuanMiLCJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXNoLCBQcm9ncmFtLCBUZXh0dXJlIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCdcblxuaW1wb3J0IHZlcnRleCBmcm9tICdzaGFkZXJzL3BsYW5lLXZlcnRleC5nbHNsJ1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJ3NoYWRlcnMvcGxhbmUtZnJhZ21lbnQuZ2xzbCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWFcbntcbiAgY29uc3RydWN0b3IoeyBlbGVtZW50LCBpbmRleCwgZ2VvbWV0cnksIGdsLCBsZW5ndGgsIHNjZW5lLCBzY3JlZW4sIHZpZXdwb3J0IH0pXG4gIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgdGhpcy5pbmRleCA9IGluZGV4XG4gICAgdGhpcy5nZW8gPSBnZW9tZXRyeVxuICAgIHRoaXMuZ2wgPSBnbFxuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lXG4gICAgdGhpcy5zY3JlZW4gPSBzY3JlZW5cbiAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnRcblxuICAgIHRoaXMuZXh0cmEgPSAwXG5cbiAgICB0aGlzLmNyZWF0ZU1lc2goKVxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gICAgQ3JlYXRlLlxuICAqL1xuXG4gIGNyZWF0ZU1lc2goKVxuICB7XG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKVxuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmdsLCB7XG4gICAgICBnZW5lcmF0ZU1pcG1hcHM6IGZhbHNlXG4gICAgfSlcblxuICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzLmdsLFxuICAgIHtcbiAgICAgIHZlcnRleCxcbiAgICAgIGZyYWdtZW50LFxuICAgICAgdW5pZm9ybXM6XG4gICAgICB7XG4gICAgICAgIHRNYXA6IHsgdmFsdWU6IHRleHR1cmUgfSxcbiAgICAgICAgdV9pbWFnZVNpemU6IHsgdmFsdWU6IFswLCAwXSB9LFxuICAgICAgICB1X3BsYW5lU2l6ZTogeyB2YWx1ZTogWzAsIDBdIH0sXG4gICAgICAgIHVfb2Zmc2V0OiB7IHZhbHVlOiAwIH0sXG4gICAgICAgIHVfc3RyZW5ndGg6IHsgdmFsdWU6IDAgfSxcbiAgICAgICAgdV92aWV3cG9ydFNpemU6IHsgdmFsdWU6IFt0aGlzLnZpZXdwb3J0LndpZHRoLCB0aGlzLnZpZXdwb3J0LmhlaWdodF0gfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnXG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKVxuICAgIGltYWdlLm9ubG9hZCA9IF8gPT5cbiAgICB7XG4gICAgICBwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2VTaXplLnZhbHVlID0gW2ltYWdlLm5hdHVyYWxXaWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodF1cbiAgICAgIHRleHR1cmUuaW1hZ2UgPSBpbWFnZVxuICAgIH1cblxuICAgIHRoaXMucGxhbmUgPSBuZXcgTWVzaCh0aGlzLmdsLCB7XG4gICAgICBnZW9tZXRyeTogdGhpcy5nZW8sXG4gICAgICBwcm9ncmFtOiBwcm9ncmFtXG4gICAgfSlcblxuICAgIHRoaXMucGxhbmUuc2V0UGFyZW50KHRoaXMuc2NlbmUpXG5cbiAgICB0aGlzLnNjYWxlID0ge1xuICAgICAgeDogdGhpcy5wbGFuZS5zY2FsZS54IC8gMixcbiAgICAgIHk6IHRoaXMucGxhbmUuc2NhbGUueSAvIDJcbiAgICB9XG5cbiAgICB0aGlzLm1hcmdpbiA9IDAuNTM3XG4gICAgdGhpcy53aG9sZWhlaWdodCA9IHRoaXMubGVuZ3RoICogKHRoaXMucGxhbmUuc2NhbGUueSArIHRoaXMubWFyZ2luKVxuICB9XG5cbiAgY3JlYXRlQm91bmRzKClcbiAge1xuICAgIHRoaXMuYm91bmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICB0aGlzLnVwZGF0ZVNjYWxlKClcbiAgICB0aGlzLnVwZGF0ZVgoKVxuICAgIHRoaXMudXBkYXRlWSgpXG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9wbGFuZVNpemUudmFsdWUgPSBbdGhpcy5wbGFuZS5zY2FsZS54LCB0aGlzLnBsYW5lLnNjYWxlLnldXG4gIH1cblxuICAvKlxuICAgIEV2ZW50cy5cbiAgKi9cblxuICBvblJlc2l6ZShzaXplcylcbiAge1xuICAgIHRoaXMuZXh0cmEgPSAwXG5cbiAgICBpZihzaXplcylcbiAgICB7XG4gICAgICBjb25zdCB7IGluZGV4LCBoZWlnaHQsIHNjcmVlbiwgdmlld3BvcnQgfSA9IHNpemVzXG5cbiAgICAgIGlmKGluZGV4KSB0aGlzLmluZGV4ID0gaW5kZXhcbiAgICAgIGlmKGhlaWdodCkgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgICAgIGlmKHNjcmVlbikgdGhpcy5zY3JlZW4gPSBzY3JlZW5cbiAgICAgIGlmKHZpZXdwb3J0KSB7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuXG4gICAgICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3ZpZXdwb3J0U2l6ZS52YWx1ZSA9IFt0aGlzLnZpZXdwb3J0LndpZHRoLCB0aGlzLnZpZXdwb3J0LmhlaWdodF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUJvdW5kcygpXG4gIH1cblxuICAvKlxuICAgIFVwZGF0ZS5cbiAgKi9cblxuICB1cGRhdGVTY2FsZSgpXG4gIHtcbiAgICB0aGlzLnBsYW5lLnNjYWxlLnggPSB0aGlzLnZpZXdwb3J0LndpZHRoICogdGhpcy5ib3VuZHMud2lkdGggLyB0aGlzLnNjcmVlbi53aWR0aFxuICAgIHRoaXMucGxhbmUuc2NhbGUueSA9IHRoaXMudmlld3BvcnQuaGVpZ2h0ICogdGhpcy5ib3VuZHMuaGVpZ2h0IC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9wbGFuZVNpemUudmFsdWUgPSBbdGhpcy5wbGFuZS5zY2FsZS54LCB0aGlzLnBsYW5lLnNjYWxlLnldXG4gIH1cblxuICB1cGRhdGVYKClcbiAge1xuICAgIHRoaXMueCA9IHRoaXMuYm91bmRzLmxlZnQgLyB0aGlzLnNjcmVlbi53aWR0aFxuXG4gICAgdGhpcy5wbGFuZS5wb3NpdGlvbi54ID0gKC10aGlzLnZpZXdwb3J0LndpZHRoIC8gMikgKyB0aGlzLnNjYWxlLnggKyAodGhpcy54ICogdGhpcy52aWV3cG9ydC53aWR0aClcbiAgfVxuXG4gIHVwZGF0ZVkoY3VycmVudD0wKVxuICB7XG4gICAgdGhpcy55ID0gKHRoaXMuYm91bmRzLnRvcCAtIGN1cnJlbnQpIC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG4gICAgY29uc3QgcG9zX3ZpZXdwb3J0ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi55IC0gdGhpcy55IC8gMTAwXG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9vZmZzZXQudmFsdWUgPSBnc2FwLnV0aWxzLm1hcFJhbmdlKC00LCA0LCAtMC4zNSwgMC4zNSwgcG9zX3ZpZXdwb3J0KVxuXG4gICAgdGhpcy5wbGFuZS5wb3NpdGlvbi55ID0gKHRoaXMudmlld3BvcnQuaGVpZ2h0IC8gMikgLSB0aGlzLnNjYWxlLnkgLSAodGhpcy55ICogdGhpcy52aWV3cG9ydC5oZWlnaHQpIC0gdGhpcy5tYXJnaW4gLSB0aGlzLmV4dHJhXG4gIH1cblxuICB1cGRhdGUoY3VycmVudCwgbGFzdCwgZGlyZWN0aW9uKVxuICB7XG4gICAgaWYoIXRoaXMuYm91bmRzKSByZXR1cm5cblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKGN1cnJlbnQpXG5cbiAgICBpZihjdXJyZW50ID4gMClcbiAgICB7XG4gICAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9zdHJlbmd0aC52YWx1ZSA9ICgoY3VycmVudCAtIGxhc3QpIC8gdGhpcy5zY3JlZW4uaGVpZ2h0KSAqIDE1XG5cbiAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3VwJylcbiAgICAgIHtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucGxhbmUucG9zaXRpb24ueSArIHRoaXMuc2NhbGUueVxuXG4gICAgICAgIGlmKHkgPCAtdGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKVxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5leHRyYSAtPSB0aGlzLndob2xlaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoZGlyZWN0aW9uID09PSAnZG93bicpXG4gICAgICB7XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnBsYW5lLnBvc2l0aW9uLnkgLSB0aGlzLnNjYWxlLnlcblxuICAgICAgICBpZih5ID4gdGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKVxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5leHRyYSArPSB0aGlzLndob2xlaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3N0cmVuZ3RoLnZhbHVlID0gLSgoY3VycmVudCArIGxhc3QpIC8gdGhpcy5zY3JlZW4uaGVpZ2h0KSAqIDE1XG5cbiAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3VwJylcbiAgICAgIHtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucGxhbmUucG9zaXRpb24ueSAtIHRoaXMuc2NhbGUueVxuXG4gICAgICAgIGlmKHkgPiB0aGlzLnZpZXdwb3J0LmhlaWdodCAvIDIpXG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLmV4dHJhICs9IHRoaXMud2hvbGVoZWlnaHRcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZihkaXJlY3Rpb24gPT09ICdkb3duJylcbiAgICAgIHtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucGxhbmUucG9zaXRpb24ueSArIHRoaXMuc2NhbGUueVxuXG4gICAgICAgIGlmKHkgPCAtdGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKVxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5leHRyYSAtPSB0aGlzLndob2xlaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjFhMzdiNzMzMWFiZGM4ZDdiODM2XCIpIl0sIm5hbWVzIjpbIk1lZGlhIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiaW5kZXgiLCJnZW9tZXRyeSIsImdsIiwibGVuZ3RoIiwic2NlbmUiLCJzY3JlZW4iLCJ2aWV3cG9ydCIsInRoaXMiLCJnZW8iLCJleHRyYSIsImNyZWF0ZU1lc2giLCJjcmVhdGVCb3VuZHMiLCJpbWFnZSIsIkltYWdlIiwidGV4dHVyZSIsIlRleHR1cmUiLCJnZW5lcmF0ZU1pcG1hcHMiLCJwcm9ncmFtIiwiUHJvZ3JhbSIsInZlcnRleCIsImZyYWdtZW50IiwidW5pZm9ybXMiLCJ0TWFwIiwidmFsdWUiLCJ1X2ltYWdlU2l6ZSIsInVfcGxhbmVTaXplIiwidV9vZmZzZXQiLCJ1X3N0cmVuZ3RoIiwidV92aWV3cG9ydFNpemUiLCJ3aWR0aCIsImhlaWdodCIsImNyb3NzT3JpZ2luIiwic3JjIiwiZ2V0QXR0cmlidXRlIiwib25sb2FkIiwiXyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJwbGFuZSIsIk1lc2giLCJzZXRQYXJlbnQiLCJzY2FsZSIsIngiLCJ5IiwibWFyZ2luIiwid2hvbGVoZWlnaHQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1cGRhdGVTY2FsZSIsInVwZGF0ZVgiLCJ1cGRhdGVZIiwib25SZXNpemUiLCJzaXplcyIsImxlZnQiLCJwb3NpdGlvbiIsImN1cnJlbnQiLCJ0b3AiLCJwb3Nfdmlld3BvcnQiLCJnc2FwIiwidXBkYXRlIiwibGFzdCIsImRpcmVjdGlvbiIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==
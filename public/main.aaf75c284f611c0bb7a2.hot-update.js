/*! For license information please see main.aaf75c284f611c0bb7a2.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateitsforgotham("main",{"./app/components/Canvas/Gallery/objects/GalleryElement.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i("./node_modules/ogl/src/core/Program.js"),h=i("./node_modules/ogl/src/core/Mesh.js"),a=i("./node_modules/gsap/index.js"),l=i("./app/shaders/gallery/element/vertex.glsl"),r=i("./app/shaders/gallery/element/fragment.glsl");class n{constructor({element:e,index:t,geometry:i,gl:s,length:h,scene:a,screen:l,viewport:r}){this.element=e,this.index=t,this.geo=i,this.gl=s,this.length=h,this.scene=a,this.screen=l,this.viewport=r,this.new_pos=0,this.createMesh(),this.createBounds()}createMesh(){this.texture=window.IMAGE_TEXTURES[this.element.getAttribute("data-src")],this.program=new s.Program(this.gl,{vertex:l.default,fragment:r.default,uniforms:{tMap:{value:this.texture},u_imageSize:{value:[0,0]},u_planeSize:{value:[0,0]},u_alpha:{value:0},u_offset:{value:0},u_scroll:{value:0},u_viewportSize:{value:[this.viewport.width,this.viewport.height]}}}),this.a_r=this.texture.image.naturalHeight/this.texture.image.naturalWidth,this.target_height=300*this.a_r,this.target_width=this.a_r*this.new_height,this.program.uniforms.u_imageSize.value=[this.texture.image.naturalWidth,this.texture.image.naturalHeight],this.plane=new h.Mesh(this.gl,{geometry:this.geo,program:this.program}),this.plane.index=this.index,this.plane.setParent(this.scene)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y],this.gallery_height=this.length*this.bounds.height,this.full_height=this.gallery_height/this.screen.height*this.viewport.height,this.new_pos+=this.full_height,this.pos_x=Math.cos(-this.index+Math.PI)*(this.screen.width/2/this.bounds.height)}show(){a.default.fromTo(this.program.uniforms.u_alpha,{value:0,duration:1},{value:1,duration:1})}hide(){a.default.to(this.program.uniforms.u_alpha,{value:0,duration:1})}onResize(e){if(this.new_pos=0,e){const{screen:t,viewport:i}=e;t&&(this.screen=t),i&&(this.viewport=i,this.plane.program.uniforms.u_viewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.program.uniforms.u_planeSize.value=[this.plane.scale.x,this.plane.scale.y]}updateX(){this.x=this.bounds.left/this.screen.width,this.plane.position.x=-this.viewport.width/2+this.plane.scale.x/2+this.x*this.viewport.width+this.pos_x}updateY(e=0){this.y=(this.bounds.top-e)/this.screen.height;const t=this.plane.position.y-this.y/100;this.plane.program.uniforms.u_offset.value=a.default.utils.mapRange(-this.viewport.height,this.viewport.height,-.35,.35,t),this.plane.position.y=this.viewport.height/2-this.plane.scale.y/2-this.y*this.viewport.height+this.new_pos}update(e,t,i){if(this.bounds){if(this.updateScale(),this.updateX(),this.updateY(e),this.plane.program.uniforms.u_scroll.value=(e-t)/this.screen.height*15,"up"===i){this.plane.position.y+this.plane.scale.y<-this.viewport.height/2&&(this.new_pos+=this.full_height)}if("down"===i){this.plane.position.y-this.plane.scale.y>this.viewport.height/2&&(this.new_pos-=this.full_height)}}}}}},(function(e){e.h=()=>"7278e7cb59689e64231d"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRdkIsS0FBS0QsU0FBU3dCLFFBQVMsSUFBTSxJQUFNbUMsR0FFM0gxRCxLQUFLK0IsTUFBTXdCLFNBQVNkLEVBQUt6QyxLQUFLRCxTQUFTd0IsT0FBUyxFQUFNdkIsS0FBSytCLE1BQU1RLE1BQU1FLEVBQUksRUFBTXpDLEtBQUt5QyxFQUFJekMsS0FBS0QsU0FBU3dCLE9BQVV2QixLQUFLRSxPQUN6SCxDQUVBeUQsT0FBT0gsRUFBU0ksRUFBTUMsR0FFcEIsR0FBSTdELEtBQUtrQyxPQUFULENBUUEsR0FOQWxDLEtBQUtvQyxjQUNMcEMsS0FBS3FDLFVBQ0xyQyxLQUFLc0MsUUFBUWtCLEdBRWJ4RCxLQUFLK0IsTUFBTXRCLFFBQVFJLFNBQVNPLFNBQVNMLE9BQVV5QyxFQUFVSSxHQUFRNUQsS0FBS0YsT0FBT3lCLE9BQVUsR0FFdEUsT0FBZHNDLEVBQ0gsQ0FDWTdELEtBQUsrQixNQUFNd0IsU0FBU2QsRUFBSXpDLEtBQUsrQixNQUFNUSxNQUFNRSxHQUUzQ3pDLEtBQUtELFNBQVN3QixPQUFTLElBRTdCdkIsS0FBS0UsU0FBV0YsS0FBSzJDLFlBRXpCLENBRUEsR0FBaUIsU0FBZGtCLEVBQ0gsQ0FDWTdELEtBQUsrQixNQUFNd0IsU0FBU2QsRUFBSXpDLEtBQUsrQixNQUFNUSxNQUFNRSxFQUU1Q3pDLEtBQUtELFNBQVN3QixPQUFTLElBRTVCdkIsS0FBS0UsU0FBV0YsS0FBSzJDLFlBRXpCLENBMUJ1QixDQTJCekIsa0JDOUxGbUIsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2l0c2ZvcmdvdGhhbS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9HYWxsZXJ5L29iamVjdHMvR2FsbGVyeUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vaXRzZm9yZ290aGFtL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXNoLCBQcm9ncmFtIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCdcblxuaW1wb3J0IHZlcnRleCBmcm9tICdzaGFkZXJzL2dhbGxlcnkvZWxlbWVudC92ZXJ0ZXguZ2xzbCdcbmltcG9ydCBmcmFnbWVudCBmcm9tICdzaGFkZXJzL2dhbGxlcnkvZWxlbWVudC9mcmFnbWVudC5nbHNsJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5RWxlbWVudFxue1xuICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGluZGV4LCBnZW9tZXRyeSwgZ2wsIGxlbmd0aCwgc2NlbmUsIHNjcmVlbiwgdmlld3BvcnQgfSlcbiAge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmluZGV4ID0gaW5kZXhcbiAgICB0aGlzLmdlbyA9IGdlb21ldHJ5XG4gICAgdGhpcy5nbCA9IGdsXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGlzLnNjZW5lID0gc2NlbmVcbiAgICB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuXG4gICAgdGhpcy5uZXdfcG9zID0gMFxuXG4gICAgdGhpcy5jcmVhdGVNZXNoKClcblxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gICAgQ3JlYXRlLlxuICAqL1xuXG4gIGNyZWF0ZU1lc2goKVxuICB7XG4gICAgdGhpcy50ZXh0dXJlID0gd2luZG93LklNQUdFX1RFWFRVUkVTW3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyldXG5cbiAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzLmdsLFxuICAgIHtcbiAgICAgIHZlcnRleCxcbiAgICAgIGZyYWdtZW50LFxuICAgICAgdW5pZm9ybXM6XG4gICAgICB7XG4gICAgICAgIHRNYXA6IHsgdmFsdWU6IHRoaXMudGV4dHVyZSB9LFxuICAgICAgICB1X2ltYWdlU2l6ZTogeyB2YWx1ZTogWzAsIDBdIH0sXG4gICAgICAgIHVfcGxhbmVTaXplOiB7IHZhbHVlOiBbMCwgMF0gfSxcbiAgICAgICAgdV9hbHBoYTogeyB2YWx1ZTogMC4wIH0sXG4gICAgICAgIHVfb2Zmc2V0OiB7IHZhbHVlOiAwIH0sXG4gICAgICAgIHVfc2Nyb2xsOiB7IHZhbHVlOiAwIH0sXG4gICAgICAgIHVfdmlld3BvcnRTaXplOiB7IHZhbHVlOiBbdGhpcy52aWV3cG9ydC53aWR0aCwgdGhpcy52aWV3cG9ydC5oZWlnaHRdIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5hX3IgPSB0aGlzLnRleHR1cmUuaW1hZ2UubmF0dXJhbEhlaWdodCAvIHRoaXMudGV4dHVyZS5pbWFnZS5uYXR1cmFsV2lkdGhcbiAgICB0aGlzLnRhcmdldF9oZWlnaHQgPSB0aGlzLmFfciAqIDMwMFxuICAgIHRoaXMudGFyZ2V0X3dpZHRoID0gdGhpcy5hX3IgKiB0aGlzLm5ld19oZWlnaHRcblxuICAgIHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlU2l6ZS52YWx1ZSA9IFt0aGlzLnRleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRoLCB0aGlzLnRleHR1cmUuaW1hZ2UubmF0dXJhbEhlaWdodF1cblxuICAgIHRoaXMucGxhbmUgPSBuZXcgTWVzaCh0aGlzLmdsLCB7XG4gICAgICBnZW9tZXRyeTogdGhpcy5nZW8sXG4gICAgICBwcm9ncmFtOiB0aGlzLnByb2dyYW1cbiAgICB9KVxuXG4gICAgdGhpcy5wbGFuZS5pbmRleCA9IHRoaXMuaW5kZXhcblxuICAgIHRoaXMucGxhbmUuc2V0UGFyZW50KHRoaXMuc2NlbmUpXG4gIH1cblxuICBjcmVhdGVCb3VuZHMoKVxuICB7XG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKClcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3BsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cblxuICAgIHRoaXMuZ2FsbGVyeV9oZWlnaHQgPSB0aGlzLmxlbmd0aCAqIHRoaXMuYm91bmRzLmhlaWdodFxuICAgIHRoaXMuZnVsbF9oZWlnaHQgPSAoKHRoaXMuZ2FsbGVyeV9oZWlnaHQgLyB0aGlzLnNjcmVlbi5oZWlnaHQpICogdGhpcy52aWV3cG9ydC5oZWlnaHQpXG4gICAgdGhpcy5uZXdfcG9zICs9IHRoaXMuZnVsbF9oZWlnaHRcblxuICAgIHRoaXMucG9zX3ggPSBNYXRoLmNvcygtdGhpcy5pbmRleCArIE1hdGguUEkpICogKCh0aGlzLnNjcmVlbi53aWR0aCAvIDIpIC8gdGhpcy5ib3VuZHMuaGVpZ2h0KVxuICB9XG5cbiAgLypcbiAgICBBbmltYXRpb25zLlxuICAqL1xuXG4gIHNob3coKVxuICB7XG4gICAgZ3NhcC5mcm9tVG8odGhpcy5wcm9ncmFtLnVuaWZvcm1zLnVfYWxwaGEsXG4gICAge1xuICAgICAgdmFsdWU6IDAuMCxcbiAgICAgIGR1cmF0aW9uOiAxXG4gICAgfSxcbiAgICB7XG4gICAgICB2YWx1ZTogMS4wLFxuICAgICAgZHVyYXRpb246IDFcbiAgICB9KVxuICB9XG5cbiAgaGlkZSgpXG4gIHtcbiAgICBnc2FwLnRvKHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51X2FscGhhLFxuICAgIHtcbiAgICAgIHZhbHVlOiAwLjAsXG4gICAgICBkdXJhdGlvbjogMVxuICAgIH0pXG4gIH1cblxuICAvKlxuICAgIEV2ZW50cy5cbiAgKi9cblxuICBvblJlc2l6ZShzaXplcylcbiAge1xuICAgIHRoaXMubmV3X3BvcyA9IDBcblxuICAgIGlmKHNpemVzKVxuICAgIHtcbiAgICAgIGNvbnN0IHsgc2NyZWVuLCB2aWV3cG9ydCB9ID0gc2l6ZXNcblxuICAgICAgaWYoc2NyZWVuKSB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgICAgaWYodmlld3BvcnQpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICAgICAgdGhpcy5wbGFuZS5wcm9ncmFtLnVuaWZvcm1zLnVfdmlld3BvcnRTaXplLnZhbHVlID0gW3RoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0XVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gICAgVXBkYXRlLlxuICAqL1xuXG4gIHVwZGF0ZVNjYWxlKClcbiAge1xuICAgIHRoaXMucGxhbmUuc2NhbGUueCA9IHRoaXMudmlld3BvcnQud2lkdGggKiB0aGlzLmJvdW5kcy53aWR0aCAvIHRoaXMuc2NyZWVuLndpZHRoXG4gICAgdGhpcy5wbGFuZS5zY2FsZS55ID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgKiB0aGlzLmJvdW5kcy5oZWlnaHQgLyB0aGlzLnNjcmVlbi5oZWlnaHRcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3BsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cbiAgfVxuXG4gIHVwZGF0ZVgoKVxuICB7XG4gICAgdGhpcy54ID0gdGhpcy5ib3VuZHMubGVmdCAvIHRoaXMuc2NyZWVuLndpZHRoXG5cbiAgICB0aGlzLnBsYW5lLnBvc2l0aW9uLnggPSAoLXRoaXMudmlld3BvcnQud2lkdGggLyAyKSArICh0aGlzLnBsYW5lLnNjYWxlLnggLyAyKSArICh0aGlzLnggKiB0aGlzLnZpZXdwb3J0LndpZHRoKSArIHRoaXMucG9zX3hcbiAgfVxuXG4gIHVwZGF0ZVkoY3VycmVudD0wKVxuICB7XG4gICAgdGhpcy55ID0gKHRoaXMuYm91bmRzLnRvcCAtIGN1cnJlbnQpIC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG4gICAgY29uc3QgcG9zX3ZpZXdwb3J0ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi55IC0gdGhpcy55IC8gMTAwXG5cbiAgICB0aGlzLnBsYW5lLnByb2dyYW0udW5pZm9ybXMudV9vZmZzZXQudmFsdWUgPSBnc2FwLnV0aWxzLm1hcFJhbmdlKC10aGlzLnZpZXdwb3J0LmhlaWdodCwgdGhpcy52aWV3cG9ydC5oZWlnaHQsIC0wLjM1LCAwLjM1LCBwb3Nfdmlld3BvcnQpXG5cbiAgICB0aGlzLnBsYW5lLnBvc2l0aW9uLnkgPSAodGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKSAtICh0aGlzLnBsYW5lLnNjYWxlLnkgLyAyKSAtICh0aGlzLnkgKiB0aGlzLnZpZXdwb3J0LmhlaWdodCkgKyB0aGlzLm5ld19wb3NcbiAgfVxuXG4gIHVwZGF0ZShjdXJyZW50LCBsYXN0LCBkaXJlY3Rpb24pXG4gIHtcbiAgICBpZighdGhpcy5ib3VuZHMpIHJldHVyblxuXG4gICAgdGhpcy51cGRhdGVTY2FsZSgpXG4gICAgdGhpcy51cGRhdGVYKClcbiAgICB0aGlzLnVwZGF0ZVkoY3VycmVudClcblxuICAgIHRoaXMucGxhbmUucHJvZ3JhbS51bmlmb3Jtcy51X3Njcm9sbC52YWx1ZSA9ICgoY3VycmVudCAtIGxhc3QpIC8gdGhpcy5zY3JlZW4uaGVpZ2h0KSAqIDE1XG5cbiAgICBpZihkaXJlY3Rpb24gPT09ICd1cCcpXG4gICAge1xuICAgICAgY29uc3QgeSA9IHRoaXMucGxhbmUucG9zaXRpb24ueSArIHRoaXMucGxhbmUuc2NhbGUueVxuXG4gICAgICBpZih5IDwgLXRoaXMudmlld3BvcnQuaGVpZ2h0IC8gMilcbiAgICAgIHtcbiAgICAgICAgdGhpcy5uZXdfcG9zICs9IHRoaXMuZnVsbF9oZWlnaHRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihkaXJlY3Rpb24gPT09ICdkb3duJylcbiAgICB7XG4gICAgICBjb25zdCB5ID0gdGhpcy5wbGFuZS5wb3NpdGlvbi55IC0gdGhpcy5wbGFuZS5zY2FsZS55XG5cbiAgICAgIGlmKHkgPiB0aGlzLnZpZXdwb3J0LmhlaWdodCAvIDIpXG4gICAgICB7XG4gICAgICAgIHRoaXMubmV3X3BvcyAtPSB0aGlzLmZ1bGxfaGVpZ2h0XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI3Mjc4ZTdjYjU5Njg5ZTY0MjMxZFwiKSJdLCJuYW1lcyI6WyJHYWxsZXJ5RWxlbWVudCIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImluZGV4IiwiZ2VvbWV0cnkiLCJnbCIsImxlbmd0aCIsInNjZW5lIiwic2NyZWVuIiwidmlld3BvcnQiLCJ0aGlzIiwiZ2VvIiwibmV3X3BvcyIsImNyZWF0ZU1lc2giLCJjcmVhdGVCb3VuZHMiLCJ0ZXh0dXJlIiwid2luZG93IiwiSU1BR0VfVEVYVFVSRVMiLCJnZXRBdHRyaWJ1dGUiLCJwcm9ncmFtIiwiUHJvZ3JhbSIsInZlcnRleCIsImZyYWdtZW50IiwidW5pZm9ybXMiLCJ0TWFwIiwidmFsdWUiLCJ1X2ltYWdlU2l6ZSIsInVfcGxhbmVTaXplIiwidV9hbHBoYSIsInVfb2Zmc2V0IiwidV9zY3JvbGwiLCJ1X3ZpZXdwb3J0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYV9yIiwiaW1hZ2UiLCJuYXR1cmFsSGVpZ2h0IiwibmF0dXJhbFdpZHRoIiwidGFyZ2V0X2hlaWdodCIsInRhcmdldF93aWR0aCIsIm5ld19oZWlnaHQiLCJwbGFuZSIsIk1lc2giLCJzZXRQYXJlbnQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1cGRhdGVTY2FsZSIsInVwZGF0ZVgiLCJ1cGRhdGVZIiwic2NhbGUiLCJ4IiwieSIsImdhbGxlcnlfaGVpZ2h0IiwiZnVsbF9oZWlnaHQiLCJwb3NfeCIsIk1hdGgiLCJjb3MiLCJQSSIsInNob3ciLCJnc2FwIiwiZHVyYXRpb24iLCJoaWRlIiwib25SZXNpemUiLCJzaXplcyIsImxlZnQiLCJwb3NpdGlvbiIsImN1cnJlbnQiLCJ0b3AiLCJwb3Nfdmlld3BvcnQiLCJ1cGRhdGUiLCJsYXN0IiwiZGlyZWN0aW9uIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9